### 

# HTTPä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-13 21:48:41

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ../cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹PID: 24660

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯•HTTPä»£ç†åŠŸèƒ½

### æµ‹è¯•1: åŸºæœ¬HTTPä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curlæµ‹è¯•1è¿›ç¨‹PID: 26660, é€€å‡ºçŠ¶æ€ç : 0

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.14.1
> Accept: */*
> 
* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Sat, 13 Sep 2025 13:48:29 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_12022076349067078357
< 
  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Sat, 13 Sep 2025 13:48:29 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_12022076349067078357


* Connection #0 to host localhost left intact
```

### æµ‹è¯•2: HTTPä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curlæµ‹è¯•2è¿›ç¨‹PID: 11232, é€€å‡ºçŠ¶æ€ç : 0

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.14.1
> Accept: */*
> 
* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Sat, 13 Sep 2025 13:48:29 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* schannel: disabled automatic use of client certificate
* ALPN: curl offers http/1.1
* ALPN: server did not agree on a protocol. Uses default.
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.14.1
> Accept: */*
> 
* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Sat, 13 Sep 2025 13:48:29 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=urfm2k32lacj3mi4rv26m4l745; expires=Sat, 13-Sep-2025 13:58:29 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=A7702753B2A14D47B9C481CCC4E16471.1757771309330; Max-Age=63072000; Domain=so.com; Path=/
< 
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Sat, 13 Sep 2025 13:48:29 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Sat, 13 Sep 2025 13:48:29 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=urfm2k32lacj3mi4rv26m4l745; expires=Sat, 13-Sep-2025 13:58:29 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=A7702753B2A14D47B9C481CCC4E16471.1757771309330; Max-Age=63072000; Domain=so.com; Path=/


* Connection #1 to host localhost left intact
```

### æµ‹è¯•3: HTTPSä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curlæµ‹è¯•3è¿›ç¨‹PID: 1212, é€€å‡ºçŠ¶æ€ç : 0

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* schannel: disabled automatic use of client certificate
* ALPN: curl offers http/1.1
* ALPN: server accepted http/1.1
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.14.1
> Accept: */*
> 
* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Sat, 13 Sep 2025 13:48:29 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_12550548259498360212
< 
  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Sat, 13 Sep 2025 13:48:29 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_12550548259498360212


* Connection #0 to host localhost left intact
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹PIDè®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 24660, 26660, 11232, 1212

### 

# HTTPä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-13 21:48:41

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ../cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹PID: 24660

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯•HTTPä»£ç†åŠŸèƒ½

### æµ‹è¯•1: åŸºæœ¬HTTPä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curlæµ‹è¯•1è¿›ç¨‹PID: 26660, é€€å‡ºçŠ¶æ€ç : 0

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.14.1
> Accept: */*
> 
* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Sat, 13 Sep 2025 13:48:29 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_12022076349067078357
< 
  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Sat, 13 Sep 2025 13:48:29 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_12022076349067078357


* Connection #0 to host localhost left intact
```

### æµ‹è¯•2: HTTPä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curlæµ‹è¯•2è¿›ç¨‹PID: 11232, é€€å‡ºçŠ¶æ€ç : 0

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.14.1
> Accept: */*
> 
* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Sat, 13 Sep 2025 13:48:29 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* schannel: disabled automatic use of client certificate
* ALPN: curl offers http/1.1
* ALPN: server did not agree on a protocol. Uses default.
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.14.1
> Accept: */*
> 
* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Sat, 13 Sep 2025 13:48:29 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=urfm2k32lacj3mi4rv26m4l745; expires=Sat, 13-Sep-2025 13:58:29 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=A7702753B2A14D47B9C481CCC4E16471.1757771309330; Max-Age=63072000; Domain=so.com; Path=/
< 
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Sat, 13 Sep 2025 13:48:29 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Sat, 13 Sep 2025 13:48:29 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=urfm2k32lacj3mi4rv26m4l745; expires=Sat, 13-Sep-2025 13:58:29 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=A7702753B2A14D47B9C481CCC4E16471.1757771309330; Max-Age=63072000; Domain=so.com; Path=/


* Connection #1 to host localhost left intact
```

### æµ‹è¯•3: HTTPSä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curlæµ‹è¯•3è¿›ç¨‹PID: 1212, é€€å‡ºçŠ¶æ€ç : 0

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* schannel: disabled automatic use of client certificate
* ALPN: curl offers http/1.1
* ALPN: server accepted http/1.1
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.14.1
> Accept: */*
> 
* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Sat, 13 Sep 2025 13:48:29 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_12550548259498360212
< 
  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Sat, 13 Sep 2025 13:48:29 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_12550548259498360212


* Connection #0 to host localhost left intact
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹PIDè®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 24660, 26660, 11232, 1212

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰curlæµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/13 21:48:42 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/13 21:48:42 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/13 21:48:42 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/13 21:48:42 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/13 21:48:42 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/13 21:48:43 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:4130 (total: 1)
2025/09/13 21:48:43 server.go:164: [SOCKS5-CONN] New connection from [::1]:4130 at 2025-09-13 21:48:43
2025/09/13 21:48:43 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:4130
2025/09/13 21:48:43 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:4130
2025/09/13 21:48:43 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:4130
2025/09/13 21:48:43 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/13 21:48:43 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/13 21:48:43 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:4130, duration: 76.2359ms
2025/09/13 21:48:43 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:4130
2025/09/13 21:48:45 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:4171 (total: 2)
2025/09/13 21:48:45 server.go:164: [SOCKS5-CONN] New connection from [::1]:4171 at 2025-09-13 21:48:45
2025/09/13 21:48:45 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:4171
2025/09/13 21:48:45 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:4171
2025/09/13 21:48:45 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:4171
2025/09/13 21:48:45 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/13 21:48:45 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/13 21:48:45 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:4175 (total: 3)
2025/09/13 21:48:45 server.go:164: [SOCKS5-CONN] New connection from [::1]:4175 at 2025-09-13 21:48:45
2025/09/13 21:48:45 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:4175
2025/09/13 21:48:45 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:4175
2025/09/13 21:48:45 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:4175
2025/09/13 21:48:45 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:4171, duration: 95.7797ms
2025/09/13 21:48:45 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:4171
2025/09/13 21:48:45 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/13 21:48:45 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/13 21:48:45 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:4185 (total: 4)
2025/09/13 21:48:45 server.go:164: [SOCKS5-CONN] New connection from [::1]:4185 at 2025-09-13 21:48:45
2025/09/13 21:48:45 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:4185
2025/09/13 21:48:45 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:4185
2025/09/13 21:48:45 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:4185
2025/09/13 21:48:45 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/13 21:48:45 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/13 21:48:45 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:4175, duration: 154.1851ms
2025/09/13 21:48:45 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:4175
2025/09/13 21:48:45 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:4185, duration: 108.5788ms
2025/09/13 21:48:45 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:4185
2025/09/13 21:48:45 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:4194 (total: 5)
2025/09/13 21:48:45 server.go:164: [SOCKS5-CONN] New connection from [::1]:4194 at 2025-09-13 21:48:45
2025/09/13 21:48:45 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:4194
2025/09/13 21:48:45 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:4194
2025/09/13 21:48:45 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:4194
2025/09/13 21:48:45 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:443 (timeout: 30s)
2025/09/13 21:48:45 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.14.1
> Accept: */*
> 
* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Sat, 13 Sep 2025 13:48:29 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_12022076349067078357
< 
  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Sat, 13 Sep 2025 13:48:29 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_12022076349067078357
* Connection #0 to host localhost left intact
### Curlæµ‹è¯•2è¾“å‡º ###
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.14.1
> Accept: */*
> 
* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Sat, 13 Sep 2025 13:48:29 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* schannel: disabled automatic use of client certificate
* ALPN: curl offers http/1.1
* ALPN: server did not agree on a protocol. Uses default.
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.14.1
> Accept: */*
> 
* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Sat, 13 Sep 2025 13:48:29 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=urfm2k32lacj3mi4rv26m4l745; expires=Sat, 13-Sep-2025 13:58:29 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=A7702753B2A14D47B9C481CCC4E16471.1757771309330; Max-Age=63072000; Domain=so.com; Path=/
< 
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Sat, 13 Sep 2025 13:48:29 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Sat, 13 Sep 2025 13:48:29 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=urfm2k32lacj3mi4rv26m4l745; expires=Sat, 13-Sep-2025 13:58:29 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=A7702753B2A14D47B9C481CCC4E16471.1757771309330; Max-Age=63072000; Domain=so.com; Path=/
* Connection #1 to host localhost left intact
### Curlæµ‹è¯•3è¾“å‡º ###
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* schannel: disabled automatic use of client certificate
* ALPN: curl offers http/1.1
* ALPN: server accepted http/1.1
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.14.1
> Accept: */*
> 
* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Sat, 13 Sep 2025 13:48:29 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_12550548259498360212
< 
  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Sat, 13 Sep 2025 13:48:29 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_12550548259498360212
* Connection #0 to host localhost left intact
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾
