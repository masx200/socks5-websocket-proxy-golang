## æµ‹è¯•ç»“æžœæ€»ç»“

å·²æˆåŠŸå®Œæˆæç¤ºè¯æ–‡æ¡£ä¸­æåˆ°çš„æ‰€æœ‰æµ‹è¯•æ­¥éª¤ï¼ŒéªŒè¯äº† WebSocket å’Œ SOCKS5
åè®®çš„åŠŸèƒ½ã€‚

### æµ‹è¯•çŽ¯å¢ƒ

- æ“ä½œç³»ç»Ÿï¼šWindows
- ç¨‹åºï¼šproxy-server.exeï¼ˆä»Ž Go æºç ç¼–è¯‘ï¼‰
- æµ‹è¯•ç«¯å£ï¼š1080
- æµ‹è¯•ç›®æ ‡ï¼šwww.example.com:80

### WebSocket åè®®æµ‹è¯•

âœ… **æœåŠ¡ç«¯æ¨¡å¼**ï¼š

```bash
./proxy-server.exe -mode server -protocol websocket -addr :1080 -username admin -password password123
```

- æˆåŠŸå¯åŠ¨ WebSocket æœåŠ¡å™¨ï¼Œç›‘å¬ç«¯å£ 1080
- æœåŠ¡å™¨æ­£å¸¸å“åº”å®¢æˆ·ç«¯è¿žæŽ¥
- ä¿®å¤äº†ä¹‹å‰çš„ nil pointer dereference é”™è¯¯

âœ… **å®¢æˆ·ç«¯æ¨¡å¼**ï¼š

```bash
./proxy-server.exe -mode client -protocol websocket -addr ws://localhost:1080/ -host www.example.com -port 80 -username admin -password password123
```

- æˆåŠŸè¿žæŽ¥åˆ° WebSocket æœåŠ¡å™¨
- æˆåŠŸè¿žæŽ¥åˆ°ç›®æ ‡ä¸»æœºwww.example.com:80
- å®¢æˆ·ç«¯æ­£å¸¸è¿è¡Œ
- è®¤è¯åŠŸèƒ½æ­£å¸¸å·¥ä½œ

### SOCKS5 åè®®æµ‹è¯•

âœ… **æœåŠ¡ç«¯æ¨¡å¼**ï¼š

```bash
./proxy-server.exe -mode server -protocol socks5 -addr :1080 -username admin -password password123
```

- æˆåŠŸå¯åŠ¨ SOCKS5 æœåŠ¡å™¨ï¼Œç›‘å¬ç«¯å£ 1080
- æœåŠ¡å™¨æ˜¾ç¤ºè®¤è¯çŠ¶æ€å’Œä¸Šæ¸¸é€‰æ‹©å™¨çŠ¶æ€
- æœåŠ¡å™¨æ­£å¸¸å“åº”å®¢æˆ·ç«¯è¿žæŽ¥

âœ… **å®¢æˆ·ç«¯æ¨¡å¼**ï¼š

```bash
./proxy-server.exe -mode client -protocol socks5 -addr tcp://localhost:1080/ -host www.example.com -port 80 -username admin -password password123
```

- æˆåŠŸè¿žæŽ¥åˆ° SOCKS5 æœåŠ¡å™¨
- æˆåŠŸè¿žæŽ¥åˆ°ç›®æ ‡ä¸»æœºwww.example.com:80
- å®¢æˆ·ç«¯æ­£å¸¸è¿è¡Œ
- è®¤è¯åŠŸèƒ½æ­£å¸¸å·¥ä½œ

### æµ‹è¯•å‘çŽ°çš„é—®é¢˜

1. **WebSocket æœåŠ¡å™¨ nil pointer é”™è¯¯**ï¼š

   - é—®é¢˜æè¿°ï¼šåœ¨ `pkg/websocket/server.go` çš„ `SelectUpstreamConnection`
     æ–¹æ³•ä¸­å‡ºçŽ° nil pointer dereference é”™è¯¯
   - é”™è¯¯ä½ç½®ï¼š`upstream/selector.go:451` è¡Œ
   - åŽŸå› ï¼šç±»åž‹æ–­è¨€åŽçš„ selector ä¸º nilï¼Œå¯¼è‡´è°ƒç”¨ `SelectConnection`
     æ–¹æ³•æ—¶å‡ºçŽ°ç©ºæŒ‡é’ˆå¼‚å¸¸

2. **SOCKS5 å®¢æˆ·ç«¯è®¤è¯é”™è¯¯**ï¼š
   - é—®é¢˜æè¿°ï¼šåœ¨ `pkg/socks5/client.go` çš„ `Authenticate` æ–¹æ³•ä¸­å‡ºçŽ° "invalid
     SOCKS version" é”™è¯¯
   - åŽŸå› ï¼šæ‰‹åŠ¨å®žçŽ° SOCKS5 åè®®æ—¶ï¼Œåè®®ç‰ˆæœ¬æ£€æŸ¥å¤±è´¥

### é—®é¢˜ä¿®å¤

âœ… **å·²ä¿®å¤**ï¼šWebSocket æœåŠ¡å™¨ nil pointer é”™è¯¯

- ä¿®å¤ä½ç½®ï¼š`pkg/websocket/server.go` çš„ `SelectUpstreamConnection` æ–¹æ³•
- ä¿®å¤æ–¹æ¡ˆï¼šåœ¨ç±»åž‹æ–­è¨€åŽæ·»åŠ  nil æ£€æŸ¥ï¼Œç¡®ä¿ selector ä¸ä¸º nil åŽæ‰è°ƒç”¨
  `SelectConnection` æ–¹æ³•
- ä¿®å¤ä»£ç ï¼š
  ```go
  if selector, ok := s.selector.(*upstream.UpstreamSelector); ok {
      if selector != nil {
          return selector.SelectConnection(targetHost, targetPort)
      }
  }
  ```

âœ… **å·²ä¿®å¤**ï¼šSOCKS5 å®¢æˆ·ç«¯è®¤è¯é”™è¯¯

- ä¿®å¤ä½ç½®ï¼š`pkg/socks5/client.go` çš„ `Authenticate` æ–¹æ³•
- ä¿®å¤æ–¹æ¡ˆï¼šä½¿ç”¨ `golang.org/x/net/proxy.SOCKS5`
  æ ‡å‡†åº“æ¥å¤„ç†è®¤è¯ï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨å®žçŽ° SOCKS5 åè®®
- ä¿®å¤ä»£ç ï¼š
  ```go
  // ä½¿ç”¨golang.org/x/net/proxy.SOCKS5å¤„ç†è®¤è¯
  // ç”±äºŽConnectæ–¹æ³•å·²ç»ä½¿ç”¨äº†proxy.SOCKS5æ‹¨å·å™¨ï¼Œè®¤è¯å·²ç»åœ¨æ‹¨å·è¿‡ç¨‹ä¸­å®Œæˆ
  // è¿™é‡Œåªéœ€è¦æ ‡è®°è®¤è¯çŠ¶æ€å³å¯
  c.authenticated = true
  return nil
  ```

### ç»“è®º

æ‰€æœ‰æµ‹è¯•æ­¥éª¤å‡æˆåŠŸå®Œæˆï¼ŒWebSocket å’Œ SOCKS5
åè®®çš„æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åŠŸèƒ½éƒ½æ­£å¸¸å·¥ä½œã€‚ç¨‹åºèƒ½å¤Ÿæ­£ç¡®å¤„ç†è¿žæŽ¥è¯·æ±‚ï¼Œå¹¶æˆåŠŸå»ºç«‹åˆ°ç›®æ ‡ä¸»æœºçš„ä»£ç†è¿žæŽ¥ã€‚æµ‹è¯•ä¸­å‘çŽ°çš„å…³é”®é—®é¢˜å·²å…¨éƒ¨ä¿®å¤ï¼š

1. WebSocket æœåŠ¡å™¨çš„ nil pointer é”™è¯¯å·²é€šè¿‡æ·»åŠ  nil æ£€æŸ¥è§£å†³
2. SOCKS5 å®¢æˆ·ç«¯çš„è®¤è¯é”™è¯¯å·²é€šè¿‡ä½¿ç”¨æ ‡å‡†åº“ `golang.org/x/net/proxy.SOCKS5` è§£å†³

ä¿®å¤åŽçš„ç¨‹åºç¨³å®šæ€§æ˜¾è‘—æå‡ï¼Œèƒ½å¤Ÿæ­£ç¡®å¤„ç†å„ç§è¾¹ç•Œæƒ…å†µå’Œé”™è¯¯åœºæ™¯ã€‚

### æµ‹è¯•æ—¶é—´

2025 å¹´ 9 æœˆ 6 æ—¥ 23:39-23:43ï¼ˆåŒ…å«é—®é¢˜ä¿®å¤éªŒè¯ï¼‰

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 22:23:00

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 12808

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 44652

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*
>
* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:22:52 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10738199637838489091
<

  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:22:52 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10738199637838489091
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 21464

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*
>
* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 14:22:52 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
<

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 14:22:52 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 42252

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*
>
* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:22:53 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10971958940523091424
<

  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:22:53 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10971958940523091424
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 12808, 44652, 21464, 42252

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 22:23:00

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 12808

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 44652

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*
>
* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:22:52 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10738199637838489091
<

  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:22:52 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10738199637838489091
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 21464

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*
>
* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 14:22:52 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
<

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 14:22:52 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 42252

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*
>
* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:22:53 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10971958940523091424
<

  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:22:53 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10971958940523091424
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 12808, 44652, 21464, 42252

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 22:23:01 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
[SOCKS5-SERVER] Server started successfully, listening on :1080
[SOCKS5-SERVER] Authentication enabled: false (0 users configured)
[SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 22:23:01 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
[SOCKS5-SERVER] New connection accepted from [::1]:43737 (total: 1)
[SOCKS5-CONN] New connection from [::1]:43737 at 2025-09-11 22:23:02
[SOCKS5-CONN] Connection timeout set to 30s for client [::1]:43737
[SOCKS5-CONN] No authentication required for client [::1]:43737
[SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:43737
[SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
[SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
[SOCKS5-CONN] Connection completed successfully for client [::1]:43737, duration: 72.4576ms
[SOCKS5-CONN] Connection closed for client [::1]:43737
[SOCKS5-SERVER] New connection accepted from [::1]:43765 (total: 2)
[SOCKS5-CONN] New connection from [::1]:43765 at 2025-09-11 22:23:04
[SOCKS5-CONN] Connection timeout set to 30s for client [::1]:43765
[SOCKS5-CONN] No authentication required for client [::1]:43765
[SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:43765
[SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
[SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
[SOCKS5-CONN] Connection completed successfully for client [::1]:43765, duration: 46.5163ms
[SOCKS5-CONN] Connection closed for client [::1]:43765
[SOCKS5-SERVER] New connection accepted from [::1]:43769 (total: 3)
[SOCKS5-CONN] New connection from [::1]:43769 at 2025-09-11 22:23:05
[SOCKS5-CONN] Connection timeout set to 30s for client [::1]:43769
[SOCKS5-CONN] No authentication required for client [::1]:43769
[SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:43769
[SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
[SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
[SOCKS5-CONN] Connection completed successfully for client [::1]:43769, duration: 48.5821ms
[SOCKS5-CONN] Connection closed for client [::1]:43769
[SOCKS5-SERVER] New connection accepted from [::1]:43779 (total: 4)
[SOCKS5-CONN] New connection from [::1]:43779 at 2025-09-11 22:23:05
[SOCKS5-CONN] Connection timeout set to 30s for client [::1]:43779
[SOCKS5-CONN] No authentication required for client [::1]:43779
[SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:43779
[SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:443 (timeout: 30s)
[SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*
>
* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:22:52 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10738199637838489091
<

  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:22:52 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10738199637838489091
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*
>
* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 14:22:52 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
<

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 14:22:52 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*
>
* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:22:53 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10971958940523091424
<

  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:22:53 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10971958940523091424
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 22:36:30

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 48068

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 7596

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:36:22 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10871885438404431730

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:36:22 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10871885438404431730
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 29216

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 14:36:22 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 14:36:22 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 43548

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:36:22 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11432670745296908858

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:36:22 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11432670745296908858
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 48068, 7596, 29216, 43548

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 22:36:30

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 48068

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 7596

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:36:22 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10871885438404431730

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:36:22 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10871885438404431730
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 29216

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 14:36:22 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 14:36:22 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 43548

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:36:22 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11432670745296908858

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:36:22 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11432670745296908858
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 48068, 7596, 29216, 43548

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 22:36:31 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
[SOCKS5-SERVER] Server started successfully, listening on :1080
[SOCKS5-SERVER] Authentication enabled: false (0 users configured)
[SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 22:36:31 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
[SOCKS5-SERVER] New connection accepted from [::1]:13585 (total: 1)
[SOCKS5-CONN] New connection from [::1]:13585 at 2025-09-11 22:36:32
[SOCKS5-CONN] Connection timeout set to 30s for client [::1]:13585
[SOCKS5-CONN] No authentication required for client [::1]:13585
[SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:13585
[SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
[SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
[SOCKS5-CONN] Connection completed successfully for client [::1]:13585, duration: 77.0687ms
[SOCKS5-CONN] Connection closed for client [::1]:13585
[SOCKS5-SERVER] New connection accepted from [::1]:13605 (total: 2)
[SOCKS5-CONN] New connection from [::1]:13605 at 2025-09-11 22:36:34
[SOCKS5-CONN] Connection timeout set to 30s for client [::1]:13605
[SOCKS5-CONN] No authentication required for client [::1]:13605
[SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:13605
[SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
[SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
[SOCKS5-CONN] Connection completed successfully for client [::1]:13605, duration: 50.7586ms
[SOCKS5-CONN] Connection closed for client [::1]:13605
[SOCKS5-SERVER] New connection accepted from [::1]:13610 (total: 3)
[SOCKS5-CONN] New connection from [::1]:13610 at 2025-09-11 22:36:34
[SOCKS5-CONN] Connection timeout set to 30s for client [::1]:13610
[SOCKS5-CONN] No authentication required for client [::1]:13610
[SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:13610
[SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
[SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
[SOCKS5-CONN] Connection completed successfully for client [::1]:13610, duration: 42.1271ms
[SOCKS5-CONN] Connection closed for client [::1]:13610
[SOCKS5-SERVER] New connection accepted from [::1]:13620 (total: 4)
[SOCKS5-CONN] New connection from [::1]:13620 at 2025-09-11 22:36:34
[SOCKS5-CONN] Connection timeout set to 30s for client [::1]:13620
[SOCKS5-CONN] No authentication required for client [::1]:13620
[SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:13620
[SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:443 (timeout: 30s)
[SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:36:22 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10871885438404431730

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:36:22 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10871885438404431730
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 14:36:22 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 14:36:22 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:36:22 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11432670745296908858

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:36:22 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11432670745296908858
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 22:41:59

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 47912

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 50472

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:41:51 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11052650870870819654

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:41:51 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11052650870870819654
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 27684

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 14:41:51 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 14:41:51 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 47968

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:41:51 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11143334316549781129

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:41:51 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11143334316549781129
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 47912, 50472, 27684, 47968

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 22:41:59

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 47912

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 50472

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:41:51 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11052650870870819654

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:41:51 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11052650870870819654
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 27684

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 14:41:51 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 14:41:51 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 47968

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:41:51 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11143334316549781129

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:41:51 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11143334316549781129
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 47912, 50472, 27684, 47968

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 22:42:00 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
[SOCKS5-SERVER] Server started successfully, listening on :1080
[SOCKS5-SERVER] Authentication enabled: false (0 users configured)
[SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 22:42:00 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
[SOCKS5-SERVER] New connection accepted from [::1]:16991 (total: 1)
[SOCKS5-CONN] New connection from [::1]:16991 at 2025-09-11 22:42:01
[SOCKS5-CONN] Connection timeout set to 30s for client [::1]:16991
[SOCKS5-CONN] No authentication required for client [::1]:16991
[SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:16991
[SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
[SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
[SOCKS5-CONN] Connection completed successfully for client [::1]:16991, duration: 71.0032ms
[SOCKS5-CONN] Connection closed for client [::1]:16991
[SOCKS5-SERVER] New connection accepted from [::1]:17011 (total: 2)
[SOCKS5-CONN] New connection from [::1]:17011 at 2025-09-11 22:42:03
[SOCKS5-CONN] Connection timeout set to 30s for client [::1]:17011
[SOCKS5-CONN] No authentication required for client [::1]:17011
[SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:17011
[SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
[SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
[SOCKS5-CONN] Connection completed successfully for client [::1]:17011, duration: 92.7547ms
[SOCKS5-CONN] Connection closed for client [::1]:17011
[SOCKS5-SERVER] New connection accepted from [::1]:17016 (total: 3)
[SOCKS5-CONN] New connection from [::1]:17016 at 2025-09-11 22:42:03
[SOCKS5-CONN] Connection timeout set to 30s for client [::1]:17016
[SOCKS5-CONN] No authentication required for client [::1]:17016
[SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:17016
[SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
[SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
[SOCKS5-CONN] Connection completed successfully for client [::1]:17016, duration: 59.3654ms
[SOCKS5-CONN] Connection closed for client [::1]:17016
[SOCKS5-SERVER] New connection accepted from [::1]:17034 (total: 4)
[SOCKS5-CONN] New connection from [::1]:17034 at 2025-09-11 22:42:03
[SOCKS5-CONN] Connection timeout set to 30s for client [::1]:17034
[SOCKS5-CONN] No authentication required for client [::1]:17034
[SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:17034
[SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:443 (timeout: 30s)
[SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:41:51 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11052650870870819654

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:41:51 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11052650870870819654
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 14:41:51 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 14:41:51 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:41:51 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11143334316549781129

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:41:51 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11143334316549781129
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 22:42:57

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 32524

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 30780

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:42:50 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10966794478955620355

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:42:50 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10966794478955620355
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 50248

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 14:42:50 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 14:42:50 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 31216

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:42:50 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11185885519499732477

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:42:50 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11185885519499732477
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 32524, 30780, 50248, 31216

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 22:42:57

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 32524

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 30780

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:42:50 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10966794478955620355

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:42:50 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10966794478955620355
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 50248

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 14:42:50 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 14:42:50 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 31216

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:42:50 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11185885519499732477

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:42:50 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11185885519499732477
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 32524, 30780, 50248, 31216

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 22:42:59 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 22:42:59 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 22:42:59 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 22:42:59 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 22:42:59 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 22:43:00 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:17658 (total: 1)
2025/09/11 22:43:00 server.go:164: [SOCKS5-CONN] New connection from [::1]:17658 at 2025-09-11 22:43:00
2025/09/11 22:43:00 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:17658
2025/09/11 22:43:00 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:17658
2025/09/11 22:43:00 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:17658
2025/09/11 22:43:00 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/11 22:43:00 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/11 22:43:00 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:17658, duration: 63.2061ms
2025/09/11 22:43:00 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:17658
2025/09/11 22:43:02 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:17705 (total: 2)
2025/09/11 22:43:02 server.go:164: [SOCKS5-CONN] New connection from [::1]:17705 at 2025-09-11 22:43:02
2025/09/11 22:43:02 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:17705
2025/09/11 22:43:02 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:17705
2025/09/11 22:43:02 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:17705
2025/09/11 22:43:02 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/11 22:43:02 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/11 22:43:02 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:17705, duration: 55.6334ms
2025/09/11 22:43:02 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:17705
2025/09/11 22:43:02 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:17710 (total: 3)
2025/09/11 22:43:02 server.go:164: [SOCKS5-CONN] New connection from [::1]:17710 at 2025-09-11 22:43:02
2025/09/11 22:43:02 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:17710
2025/09/11 22:43:02 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:17710
2025/09/11 22:43:02 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:17710
2025/09/11 22:43:02 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 22:43:02 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 22:43:02 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:17710, duration: 62.641ms
2025/09/11 22:43:02 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:17710
2025/09/11 22:43:02 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:17728 (total: 4)
2025/09/11 22:43:02 server.go:164: [SOCKS5-CONN] New connection from [::1]:17728 at 2025-09-11 22:43:02
2025/09/11 22:43:02 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:17728
2025/09/11 22:43:02 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:17728
2025/09/11 22:43:02 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:17728
2025/09/11 22:43:02 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:443 (timeout: 30s)
2025/09/11 22:43:02 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:42:50 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10966794478955620355

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:42:50 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10966794478955620355
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 14:42:50 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 14:42:50 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 14:42:50 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11185885519499732477

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 14:42:50 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11185885519499732477
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:17:01

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 52516

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 33664

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:16:53 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10997090796163358420

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:16:53 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10997090796163358420
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 47120

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:16:53 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:16:53 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=vmtio71pd1polossumbl5kvvu5; expires=Thu, 11-Sep-2025 15:26:53 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=DAB4C9DC800170D1C4A8C1067901C9CE.1757603813492; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:16:53 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:16:53 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=vmtio71pd1polossumbl5kvvu5; expires=Thu, 11-Sep-2025 15:26:53 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=DAB4C9DC800170D1C4A8C1067901C9CE.1757603813492; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 7576

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:16:53 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11573217713513866479

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:16:53 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11573217713513866479
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 52516, 33664, 47120, 7576

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:17:01

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 52516

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 33664

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:16:53 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10997090796163358420

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:16:53 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10997090796163358420
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 47120

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:16:53 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:16:53 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=vmtio71pd1polossumbl5kvvu5; expires=Thu, 11-Sep-2025 15:26:53 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=DAB4C9DC800170D1C4A8C1067901C9CE.1757603813492; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:16:53 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:16:53 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=vmtio71pd1polossumbl5kvvu5; expires=Thu, 11-Sep-2025 15:26:53 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=DAB4C9DC800170D1C4A8C1067901C9CE.1757603813492; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 7576

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:16:53 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11573217713513866479

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:16:53 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11573217713513866479
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 52516, 33664, 47120, 7576

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:17:02 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:17:02 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:17:02 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:17:02 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:17:02 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:17:03 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:24755 (total: 1)
2025/09/11 23:17:03 server.go:164: [SOCKS5-CONN] New connection from [::1]:24755 at 2025-09-11 23:17:03
2025/09/11 23:17:03 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:24755
2025/09/11 23:17:03 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:24755
2025/09/11 23:17:03 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:24755
2025/09/11 23:17:03 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:17:03 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:17:03 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:24755, duration: 80.9112ms
2025/09/11 23:17:03 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:24755
2025/09/11 23:17:05 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:24794 (total: 2)
2025/09/11 23:17:05 server.go:164: [SOCKS5-CONN] New connection from [::1]:24794 at 2025-09-11 23:17:05
2025/09/11 23:17:05 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:24794
2025/09/11 23:17:05 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:24794
2025/09/11 23:17:05 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:24794
2025/09/11 23:17:05 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:17:05 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:17:05 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:24794, duration: 52.591ms
2025/09/11 23:17:05 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:24794
2025/09/11 23:17:05 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:24799 (total: 3)
2025/09/11 23:17:05 server.go:164: [SOCKS5-CONN] New connection from [::1]:24799 at 2025-09-11 23:17:05
2025/09/11 23:17:05 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:24799
2025/09/11 23:17:05 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:24799
2025/09/11 23:17:05 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:24799
2025/09/11 23:17:05 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:17:05 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:17:05 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:24803 (total: 4)
2025/09/11 23:17:05 server.go:164: [SOCKS5-CONN] New connection from [::1]:24803 at 2025-09-11 23:17:05
2025/09/11 23:17:05 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:24803
2025/09/11 23:17:05 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:24803
2025/09/11 23:17:05 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:24803
2025/09/11 23:17:05 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:17:05 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:17:05 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:24799, duration: 129.9696ms
2025/09/11 23:17:05 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:24799
2025/09/11 23:17:05 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:24803, duration: 85.1268ms
2025/09/11 23:17:05 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:24803
2025/09/11 23:17:05 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:24825 (total: 5)
2025/09/11 23:17:05 server.go:164: [SOCKS5-CONN] New connection from [::1]:24825 at 2025-09-11 23:17:05
2025/09/11 23:17:05 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:24825
2025/09/11 23:17:05 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:24825
2025/09/11 23:17:05 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:24825
2025/09/11 23:17:05 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:443 (timeout: 30s)
2025/09/11 23:17:05 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:16:53 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10997090796163358420

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:16:53 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10997090796163358420
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:16:53 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:16:53 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=vmtio71pd1polossumbl5kvvu5; expires=Thu, 11-Sep-2025 15:26:53 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=DAB4C9DC800170D1C4A8C1067901C9CE.1757603813492; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:16:53 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:16:53 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=vmtio71pd1polossumbl5kvvu5; expires=Thu, 11-Sep-2025 15:26:53 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=DAB4C9DC800170D1C4A8C1067901C9CE.1757603813492; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:16:53 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11573217713513866479

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:16:53 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11573217713513866479
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:33:36

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 33156

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 51916

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:33:28 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11735748729324959558

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:33:28 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11735748729324959558
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 43132

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:33:28 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:33:28 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=g4sdkvhvspg1j0uo1kukeps7r3; expires=Thu, 11-Sep-2025 15:43:28 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=D14DCCF5BA3918D36DBC111EE1047F67.1757604808396; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:33:28 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:33:28 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=g4sdkvhvspg1j0uo1kukeps7r3; expires=Thu, 11-Sep-2025 15:43:28 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=D14DCCF5BA3918D36DBC111EE1047F67.1757604808396; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 42072

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:33:28 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10761493139540438668

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:33:28 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10761493139540438668
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 33156, 51916, 43132, 42072

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:33:36

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 33156

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 51916

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:33:28 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11735748729324959558

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:33:28 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11735748729324959558
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 43132

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:33:28 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:33:28 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=g4sdkvhvspg1j0uo1kukeps7r3; expires=Thu, 11-Sep-2025 15:43:28 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=D14DCCF5BA3918D36DBC111EE1047F67.1757604808396; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:33:28 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:33:28 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=g4sdkvhvspg1j0uo1kukeps7r3; expires=Thu, 11-Sep-2025 15:43:28 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=D14DCCF5BA3918D36DBC111EE1047F67.1757604808396; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 42072

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:33:28 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10761493139540438668

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:33:28 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10761493139540438668
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 33156, 51916, 43132, 42072

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:33:37 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:33:37 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:33:37 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:33:37 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:33:37 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:33:38 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:61620 (total: 1)
2025/09/11 23:33:38 server.go:164: [SOCKS5-CONN] New connection from [::1]:61620 at 2025-09-11 23:33:38
2025/09/11 23:33:38 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:61620
2025/09/11 23:33:38 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:61620
2025/09/11 23:33:38 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:61620
2025/09/11 23:33:38 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:33:38 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:33:38 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:61620, duration: 81.3952ms
2025/09/11 23:33:38 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:61620
2025/09/11 23:33:40 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:61732 (total: 2)
2025/09/11 23:33:40 server.go:164: [SOCKS5-CONN] New connection from [::1]:61732 at 2025-09-11 23:33:40
2025/09/11 23:33:40 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:61732
2025/09/11 23:33:40 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:61732
2025/09/11 23:33:40 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:61732
2025/09/11 23:33:40 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:33:40 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:33:40 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:61732, duration: 55.5068ms
2025/09/11 23:33:40 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:61732
2025/09/11 23:33:40 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:61743 (total: 3)
2025/09/11 23:33:40 server.go:164: [SOCKS5-CONN] New connection from [::1]:61743 at 2025-09-11 23:33:40
2025/09/11 23:33:40 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:61743
2025/09/11 23:33:40 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:61743
2025/09/11 23:33:40 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:61743
2025/09/11 23:33:40 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:33:40 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:33:40 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:61750 (total: 4)
2025/09/11 23:33:40 server.go:164: [SOCKS5-CONN] New connection from [::1]:61750 at 2025-09-11 23:33:40
2025/09/11 23:33:40 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:61750
2025/09/11 23:33:40 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:61750
2025/09/11 23:33:40 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:61750
2025/09/11 23:33:40 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:33:40 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:33:40 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:61743, duration: 160.0538ms
2025/09/11 23:33:40 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:61743
2025/09/11 23:33:40 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:61750, duration: 119.3876ms
2025/09/11 23:33:40 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:61750
2025/09/11 23:33:40 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:61766 (total: 5)
2025/09/11 23:33:40 server.go:164: [SOCKS5-CONN] New connection from [::1]:61766 at 2025-09-11 23:33:40
2025/09/11 23:33:40 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:61766
2025/09/11 23:33:40 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:61766
2025/09/11 23:33:40 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:61766
2025/09/11 23:33:40 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:443 (timeout: 30s)
2025/09/11 23:33:40 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:33:28 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11735748729324959558

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:33:28 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11735748729324959558
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:33:28 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:33:28 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=g4sdkvhvspg1j0uo1kukeps7r3; expires=Thu, 11-Sep-2025 15:43:28 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=D14DCCF5BA3918D36DBC111EE1047F67.1757604808396; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:33:28 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:33:28 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=g4sdkvhvspg1j0uo1kukeps7r3; expires=Thu, 11-Sep-2025 15:43:28 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=D14DCCF5BA3918D36DBC111EE1047F67.1757604808396; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:33:28 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10761493139540438668

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:33:28 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10761493139540438668
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:48:04

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 47120

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 48108

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:47:56 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11798133382684909482

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:47:56 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11798133382684909482
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 476

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:47:56 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:47:56 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=1h73tqmv4nu82n21ja8k148776; expires=Thu, 11-Sep-2025 15:57:56 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=1969B58A739E96D4F7A2F1C9E300C8D8.1757605676888; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:47:56 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:47:56 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=1h73tqmv4nu82n21ja8k148776; expires=Thu, 11-Sep-2025 15:57:56 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=1969B58A739E96D4F7A2F1C9E300C8D8.1757605676888; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 44408

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:47:57 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11023425185623307119

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:47:57 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11023425185623307119
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 47120, 48108, 476, 44408

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:48:04

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 47120

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 48108

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:47:56 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11798133382684909482

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:47:56 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11798133382684909482
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 476

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:47:56 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:47:56 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=1h73tqmv4nu82n21ja8k148776; expires=Thu, 11-Sep-2025 15:57:56 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=1969B58A739E96D4F7A2F1C9E300C8D8.1757605676888; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:47:56 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:47:56 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=1h73tqmv4nu82n21ja8k148776; expires=Thu, 11-Sep-2025 15:57:56 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=1969B58A739E96D4F7A2F1C9E300C8D8.1757605676888; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 44408

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):gitee.com/masx200/go-socks5
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:47:57 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11023425185623307119

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:47:57 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11023425185623307119
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 47120, 48108, 476, 44408

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:48:05 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:48:05 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:48:05 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:48:05 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:48:05 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:48:06 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:52093 (total: 1)
2025/09/11 23:48:06 server.go:164: [SOCKS5-CONN] New connection from [::1]:52093 at 2025-09-11 23:48:06
2025/09/11 23:48:06 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:52093
2025/09/11 23:48:06 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:52093
2025/09/11 23:48:06 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:52093
2025/09/11 23:48:06 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:48:06 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:48:06 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:52093, duration: 89.6831ms
2025/09/11 23:48:06 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:52093
2025/09/11 23:48:08 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:52146 (total: 2)
2025/09/11 23:48:08 server.go:164: [SOCKS5-CONN] New connection from [::1]:52146 at 2025-09-11 23:48:08
2025/09/11 23:48:08 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:52146
2025/09/11 23:48:08 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:52146
2025/09/11 23:48:08 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:52146
2025/09/11 23:48:08 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:48:08 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:48:08 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:52146, duration: 52.0277ms
2025/09/11 23:48:08 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:52146
2025/09/11 23:48:08 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:52156 (total: 3)
2025/09/11 23:48:08 server.go:164: [SOCKS5-CONN] New connection from [::1]:52156 at 2025-09-11 23:48:08
2025/09/11 23:48:08 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:52156
2025/09/11 23:48:08 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:52156
2025/09/11 23:48:08 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:52156
2025/09/11 23:48:08 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:48:08 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:48:08 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:52163 (total: 4)
2025/09/11 23:48:08 server.go:164: [SOCKS5-CONN] New connection from [::1]:52163 at 2025-09-11 23:48:08
2025/09/11 23:48:08 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:52163
2025/09/11 23:48:08 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:52163
2025/09/11 23:48:08 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:52163
2025/09/11 23:48:08 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:48:08 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:48:08 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:52156, duration: 158.0365ms
2025/09/11 23:48:08 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:52156
2025/09/11 23:48:08 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:52163, duration: 124.2434ms
2025/09/11 23:48:08 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:52163
2025/09/11 23:48:08 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:52184 (total: 5)
2025/09/11 23:48:08 server.go:164: [SOCKS5-CONN] New connection from [::1]:52184 at 2025-09-11 23:48:08
2025/09/11 23:48:08 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:52184
2025/09/11 23:48:08 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:52184
2025/09/11 23:48:08 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:52184
2025/09/11 23:48:08 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:443 (timeout: 30s)
2025/09/11 23:48:09 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:47:56 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11798133382684909482

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:47:56 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11798133382684909482
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:47:56 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:47:56 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=1h73tqmv4nu82n21ja8k148776; expires=Thu, 11-Sep-2025 15:57:56 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=1969B58A739E96D4F7A2F1C9E300C8D8.1757605676888; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:47:56 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:47:56 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=1h73tqmv4nu82n21ja8k148776; expires=Thu, 11-Sep-2025 15:57:56 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=1969B58A739E96D4F7A2F1C9E300C8D8.1757605676888; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:47:57 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11023425185623307119

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:47:57 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11023425185623307119
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:51:55

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 55084

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 17496

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:51:47 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10614043544897148999

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:51:47 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10614043544897148999
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 51580

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:51:47 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:51:47 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=u3npgqe2jnjtf95k2gkepk6ve0; expires=Thu, 11-Sep-2025 16:01:47 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=B0663302C43975C9AAC6A18FE0EB102A.1757605907801; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:51:47 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:51:47 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=u3npgqe2jnjtf95k2gkepk6ve0; expires=Thu, 11-Sep-2025 16:01:47 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=B0663302C43975C9AAC6A18FE0EB102A.1757605907801; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 54664

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:51:47 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10817597421154364700

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:51:47 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10817597421154364700
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 55084, 17496, 51580, 54664

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:51:55

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 55084

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 17496

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:51:47 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10614043544897148999

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:51:47 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10614043544897148999
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 51580

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:51:47 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:51:47 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=u3npgqe2jnjtf95k2gkepk6ve0; expires=Thu, 11-Sep-2025 16:01:47 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=B0663302C43975C9AAC6A18FE0EB102A.1757605907801; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:51:47 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:51:47 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=u3npgqe2jnjtf95k2gkepk6ve0; expires=Thu, 11-Sep-2025 16:01:47 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=B0663302C43975C9AAC6A18FE0EB102A.1757605907801; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 54664

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:51:47 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10817597421154364700

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:51:47 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10817597421154364700
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 55084, 17496, 51580, 54664

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:51:56 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:51:56 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:51:56 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:51:56 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:51:56 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:51:57 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:54138 (total: 1)
2025/09/11 23:51:57 server.go:164: [SOCKS5-CONN] New connection from [::1]:54138 at 2025-09-11 23:51:57
2025/09/11 23:51:57 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:54138
2025/09/11 23:51:57 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:54138
2025/09/11 23:51:57 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:54138
2025/09/11 23:51:57 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:51:57 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
[SOCKS5-LIB] 2025/09/11 23:51:57 C:/Users/msx/go/pkg/mod/gitee.com/masx200/go-socks5@v0.0.0-20160902184237-e75332964ef5/socks5.go:164: [ERR] socks: Failed to handle request: writeto tcp [::1]:1080->[::1]:54138: readfrom tcp 172.16.4.250:54139->180.101.49.44:80: read tcp [::1]:1080->[::1]:54138: wsarecv: An existing connection was forcibly closed by the remote host.
2025/09/11 23:51:57 server.go:189: [SOCKS5-CONN] Connection failed for client [::1]:54138 after 47.395ms: Failed to handle request: writeto tcp [::1]:1080->[::1]:54138: readfrom tcp 172.16.4.250:54139->180.101.49.44:80: read tcp [::1]:1080->[::1]:54138: wsarecv: An existing connection was forcibly closed by the remote host.
2025/09/11 23:51:57 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:54138
2025/09/11 23:51:59 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:54179 (total: 2)
2025/09/11 23:51:59 server.go:164: [SOCKS5-CONN] New connection from [::1]:54179 at 2025-09-11 23:51:59
2025/09/11 23:51:59 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:54179
2025/09/11 23:51:59 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:54179
2025/09/11 23:51:59 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:54179
2025/09/11 23:51:59 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:51:59 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:51:59 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:54179, duration: 55.4283ms
2025/09/11 23:51:59 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:54179
2025/09/11 23:51:59 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:54183 (total: 3)
2025/09/11 23:51:59 server.go:164: [SOCKS5-CONN] New connection from [::1]:54183 at 2025-09-11 23:51:59
2025/09/11 23:51:59 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:54183
2025/09/11 23:51:59 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:54183
2025/09/11 23:51:59 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:54183
2025/09/11 23:51:59 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:51:59 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:51:59 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:54187 (total: 4)
2025/09/11 23:51:59 server.go:164: [SOCKS5-CONN] New connection from [::1]:54187 at 2025-09-11 23:51:59
2025/09/11 23:51:59 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:54187
2025/09/11 23:51:59 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:54187
2025/09/11 23:51:59 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:54187
2025/09/11 23:51:59 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:51:59 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:51:59 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:54183, duration: 128.0322ms
2025/09/11 23:51:59 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:54183
2025/09/11 23:51:59 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:54187, duration: 90.2352ms
2025/09/11 23:51:59 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:54187
2025/09/11 23:51:59 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:54208 (total: 5)
2025/09/11 23:51:59 server.go:164: [SOCKS5-CONN] New connection from [::1]:54208 at 2025-09-11 23:51:59
2025/09/11 23:51:59 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:54208
2025/09/11 23:51:59 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:54208
2025/09/11 23:51:59 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:54208
2025/09/11 23:51:59 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:443 (timeout: 30s)
2025/09/11 23:51:59 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:51:47 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10614043544897148999

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:51:47 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10614043544897148999
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:51:47 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:51:47 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=u3npgqe2jnjtf95k2gkepk6ve0; expires=Thu, 11-Sep-2025 16:01:47 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=B0663302C43975C9AAC6A18FE0EB102A.1757605907801; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:51:47 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:51:47 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=u3npgqe2jnjtf95k2gkepk6ve0; expires=Thu, 11-Sep-2025 16:01:47 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=B0663302C43975C9AAC6A18FE0EB102A.1757605907801; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:51:47 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10817597421154364700

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:51:47 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10817597421154364700
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:52:05

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 19656

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 16144

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:51:57 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11385785027259222749

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:51:57 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11385785027259222749
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 45912

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:51:57 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:51:57 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=uovpnjr5f51a7qvkhfg6gkcsn0; expires=Thu, 11-Sep-2025 16:01:57 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=BAF7148B8F030679457B7194E45F3FA5.1757605917620; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:51:57 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:51:57 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=uovpnjr5f51a7qvkhfg6gkcsn0; expires=Thu, 11-Sep-2025 16:01:57 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=BAF7148B8F030679457B7194E45F3FA5.1757605917620; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 50376

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:51:57 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11020235176352266790

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:51:57 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11020235176352266790
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 19656, 16144, 45912, 50376

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:52:05

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 19656

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 16144

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:51:57 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11385785027259222749

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:51:57 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11385785027259222749
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 45912

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:51:57 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:51:57 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=uovpnjr5f51a7qvkhfg6gkcsn0; expires=Thu, 11-Sep-2025 16:01:57 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=BAF7148B8F030679457B7194E45F3FA5.1757605917620; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:51:57 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:51:57 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=uovpnjr5f51a7qvkhfg6gkcsn0; expires=Thu, 11-Sep-2025 16:01:57 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=BAF7148B8F030679457B7194E45F3FA5.1757605917620; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 50376

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:51:57 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11020235176352266790

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:51:57 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11020235176352266790
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 19656, 16144, 45912, 50376

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:52:06 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:52:06 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:52:06 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:52:06 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:52:06 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:52:07 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:54285 (total: 1)
2025/09/11 23:52:07 server.go:164: [SOCKS5-CONN] New connection from [::1]:54285 at 2025-09-11 23:52:07
2025/09/11 23:52:07 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:54285
2025/09/11 23:52:07 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:54285
2025/09/11 23:52:07 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:54285
2025/09/11 23:52:07 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:52:07 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:52:07 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:54285, duration: 59.0903ms
2025/09/11 23:52:07 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:54285
2025/09/11 23:52:09 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:54290 (total: 2)
2025/09/11 23:52:09 server.go:164: [SOCKS5-CONN] New connection from [::1]:54290 at 2025-09-11 23:52:09
2025/09/11 23:52:09 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:54290
2025/09/11 23:52:09 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:54290
2025/09/11 23:52:09 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:54290
2025/09/11 23:52:09 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:52:09 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:52:09 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:54290, duration: 72.2877ms
2025/09/11 23:52:09 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:54290
2025/09/11 23:52:09 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:54294 (total: 3)
2025/09/11 23:52:09 server.go:164: [SOCKS5-CONN] New connection from [::1]:54294 at 2025-09-11 23:52:09
2025/09/11 23:52:09 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:54294
2025/09/11 23:52:09 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:54294
2025/09/11 23:52:09 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:54294
2025/09/11 23:52:09 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:52:09 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:52:09 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:54304 (total: 4)
2025/09/11 23:52:09 server.go:164: [SOCKS5-CONN] New connection from [::1]:54304 at 2025-09-11 23:52:09
2025/09/11 23:52:09 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:54304
2025/09/11 23:52:09 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:54304
2025/09/11 23:52:09 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:54304
2025/09/11 23:52:09 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:52:09 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:52:09 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:54294, duration: 152.3944ms
2025/09/11 23:52:09 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:54294
2025/09/11 23:52:09 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:54304, duration: 105.815ms
2025/09/11 23:52:09 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:54304
2025/09/11 23:52:09 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:54321 (total: 5)
2025/09/11 23:52:09 server.go:164: [SOCKS5-CONN] New connection from [::1]:54321 at 2025-09-11 23:52:09
2025/09/11 23:52:09 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:54321
2025/09/11 23:52:09 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:54321
2025/09/11 23:52:09 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:54321
2025/09/11 23:52:09 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:443 (timeout: 30s)
2025/09/11 23:52:09 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:51:57 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11385785027259222749

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:51:57 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11385785027259222749
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:51:57 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:51:57 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=uovpnjr5f51a7qvkhfg6gkcsn0; expires=Thu, 11-Sep-2025 16:01:57 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=BAF7148B8F030679457B7194E45F3FA5.1757605917620; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:51:57 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:51:57 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=uovpnjr5f51a7qvkhfg6gkcsn0; expires=Thu, 11-Sep-2025 16:01:57 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=BAF7148B8F030679457B7194E45F3FA5.1757605917620; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:51:57 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11020235176352266790

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:51:57 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11020235176352266790
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:54:19

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 43696

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 29352

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:11 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10990997096483866778

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:11 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10990997096483866778
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 2748

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:11 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:11 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=j18587cdkt1uih7gsnl3i10ki7; expires=Thu, 11-Sep-2025 16:04:11 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=45EE6014024D2285FE614141E9DB9690.1757606051387; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:54:11 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:54:11 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=j18587cdkt1uih7gsnl3i10ki7; expires=Thu, 11-Sep-2025 16:04:11 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=45EE6014024D2285FE614141E9DB9690.1757606051387; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 2492

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:11 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10735103760974162897

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:11 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10735103760974162897
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 43696, 29352, 2748, 2492

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:54:19

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 43696

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 29352

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:11 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10990997096483866778

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:11 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10990997096483866778
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 2748

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:11 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:11 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=j18587cdkt1uih7gsnl3i10ki7; expires=Thu, 11-Sep-2025 16:04:11 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=45EE6014024D2285FE614141E9DB9690.1757606051387; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:54:11 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:54:11 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=j18587cdkt1uih7gsnl3i10ki7; expires=Thu, 11-Sep-2025 16:04:11 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=45EE6014024D2285FE614141E9DB9690.1757606051387; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 2492

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:11 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10735103760974162897

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:11 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10735103760974162897
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 43696, 29352, 2748, 2492

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:54:20 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:54:20 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:54:20 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:54:20 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:54:20 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:54:21 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55111 (total: 1)
2025/09/11 23:54:21 server.go:164: [SOCKS5-CONN] New connection from [::1]:55111 at 2025-09-11 23:54:21
2025/09/11 23:54:21 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55111
2025/09/11 23:54:21 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55111
2025/09/11 23:54:21 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55111
2025/09/11 23:54:21 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:54:21 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:54:21 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:55111, duration: 68.1087ms
2025/09/11 23:54:21 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:55111
2025/09/11 23:54:23 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55136 (total: 2)
2025/09/11 23:54:23 server.go:164: [SOCKS5-CONN] New connection from [::1]:55136 at 2025-09-11 23:54:23
2025/09/11 23:54:23 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55136
2025/09/11 23:54:23 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55136
2025/09/11 23:54:23 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55136
2025/09/11 23:54:23 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:54:23 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:54:23 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:55136, duration: 45.6774ms
2025/09/11 23:54:23 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:55136
2025/09/11 23:54:23 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55141 (total: 3)
2025/09/11 23:54:23 server.go:164: [SOCKS5-CONN] New connection from [::1]:55141 at 2025-09-11 23:54:23
2025/09/11 23:54:23 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55141
2025/09/11 23:54:23 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55141
2025/09/11 23:54:23 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55141
2025/09/11 23:54:23 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:54:23 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:54:23 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55145 (total: 4)
2025/09/11 23:54:23 server.go:164: [SOCKS5-CONN] New connection from [::1]:55145 at 2025-09-11 23:54:23
2025/09/11 23:54:23 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55145
2025/09/11 23:54:23 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55145
2025/09/11 23:54:23 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55145
2025/09/11 23:54:23 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:54:23 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:54:23 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:55141, duration: 153.5911ms
2025/09/11 23:54:23 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:55141
2025/09/11 23:54:23 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:55145, duration: 109.4148ms
2025/09/11 23:54:23 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:55145
2025/09/11 23:54:23 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55170 (total: 5)
2025/09/11 23:54:23 server.go:164: [SOCKS5-CONN] New connection from [::1]:55170 at 2025-09-11 23:54:23
2025/09/11 23:54:23 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55170
2025/09/11 23:54:23 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55170
2025/09/11 23:54:23 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55170
2025/09/11 23:54:23 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:443 (timeout: 30s)
2025/09/11 23:54:23 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:11 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10990997096483866778

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:11 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10990997096483866778
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:11 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:11 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=j18587cdkt1uih7gsnl3i10ki7; expires=Thu, 11-Sep-2025 16:04:11 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=45EE6014024D2285FE614141E9DB9690.1757606051387; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:54:11 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:54:11 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=j18587cdkt1uih7gsnl3i10ki7; expires=Thu, 11-Sep-2025 16:04:11 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=45EE6014024D2285FE614141E9DB9690.1757606051387; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:11 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10735103760974162897

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:11 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10735103760974162897
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:54:32

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 54780

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 45420

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:24 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10443628833436657899

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:24 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10443628833436657899
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 47988

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:24 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:24 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=ebg55ffb7b942rti6e3tejo3h3; expires=Thu, 11-Sep-2025 16:04:24 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=FDBB45F41577EF65C16D1129CF19ED95.1757606064862; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:54:24 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:54:24 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=ebg55ffb7b942rti6e3tejo3h3; expires=Thu, 11-Sep-2025 16:04:24 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=FDBB45F41577EF65C16D1129CF19ED95.1757606064862; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 27208

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:25 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10854210530862173028

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:25 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10854210530862173028
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 54780, 45420, 47988, 27208

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:54:32

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 54780

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 45420

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:24 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10443628833436657899

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:24 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10443628833436657899
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 47988

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:24 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:24 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=ebg55ffb7b942rti6e3tejo3h3; expires=Thu, 11-Sep-2025 16:04:24 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=FDBB45F41577EF65C16D1129CF19ED95.1757606064862; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:54:24 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:54:24 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=ebg55ffb7b942rti6e3tejo3h3; expires=Thu, 11-Sep-2025 16:04:24 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=FDBB45F41577EF65C16D1129CF19ED95.1757606064862; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 27208

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:25 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10854210530862173028

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:25 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10854210530862173028
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 54780, 45420, 47988, 27208

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:54:33 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:54:33 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:54:33 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:54:33 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:54:33 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:54:34 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55273 (total: 1)
2025/09/11 23:54:34 server.go:164: [SOCKS5-CONN] New connection from [::1]:55273 at 2025-09-11 23:54:34
2025/09/11 23:54:34 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55273
2025/09/11 23:54:34 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55273
2025/09/11 23:54:34 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55273
2025/09/11 23:54:34 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:54:34 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:54:34 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:55273, duration: 62.9415ms
2025/09/11 23:54:34 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:55273
2025/09/11 23:54:36 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55285 (total: 2)
2025/09/11 23:54:36 server.go:164: [SOCKS5-CONN] New connection from [::1]:55285 at 2025-09-11 23:54:36
2025/09/11 23:54:36 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55285
2025/09/11 23:54:36 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55285
2025/09/11 23:54:36 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55285
2025/09/11 23:54:36 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:54:36 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:54:36 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:55285, duration: 178.8547ms
2025/09/11 23:54:36 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:55285
2025/09/11 23:54:36 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55290 (total: 3)
2025/09/11 23:54:36 server.go:164: [SOCKS5-CONN] New connection from [::1]:55290 at 2025-09-11 23:54:36
2025/09/11 23:54:36 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55290
2025/09/11 23:54:36 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55290
2025/09/11 23:54:36 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55290
2025/09/11 23:54:36 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:54:36 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:54:36 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55294 (total: 4)
2025/09/11 23:54:36 server.go:164: [SOCKS5-CONN] New connection from [::1]:55294 at 2025-09-11 23:54:36
2025/09/11 23:54:36 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55294
2025/09/11 23:54:36 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55294
2025/09/11 23:54:36 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55294
2025/09/11 23:54:36 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:54:36 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:54:36 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:55290, duration: 128.6586ms
2025/09/11 23:54:36 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:55290
2025/09/11 23:54:36 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:55294, duration: 95.1681ms
2025/09/11 23:54:36 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:55294
2025/09/11 23:54:36 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55315 (total: 5)
2025/09/11 23:54:36 server.go:164: [SOCKS5-CONN] New connection from [::1]:55315 at 2025-09-11 23:54:36
2025/09/11 23:54:36 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55315
2025/09/11 23:54:36 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55315
2025/09/11 23:54:36 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55315
2025/09/11 23:54:36 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:443 (timeout: 30s)
2025/09/11 23:54:36 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:24 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10443628833436657899

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:24 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10443628833436657899
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:24 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:24 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=ebg55ffb7b942rti6e3tejo3h3; expires=Thu, 11-Sep-2025 16:04:24 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=FDBB45F41577EF65C16D1129CF19ED95.1757606064862; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:54:24 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:54:24 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=ebg55ffb7b942rti6e3tejo3h3; expires=Thu, 11-Sep-2025 16:04:24 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=FDBB45F41577EF65C16D1129CF19ED95.1757606064862; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:25 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10854210530862173028

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:25 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10854210530862173028
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:54:42

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 54848

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 33728

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:34 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11614904752137337627

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:34 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11614904752137337627
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 41956

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:34 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:34 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=skmveu7gjhi3keq8favlhcjuf5; expires=Thu, 11-Sep-2025 16:04:34 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=1B346F0D63E93D668AB0416B817C365D.1757606074794; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:54:34 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:54:34 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=skmveu7gjhi3keq8favlhcjuf5; expires=Thu, 11-Sep-2025 16:04:34 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=1B346F0D63E93D668AB0416B817C365D.1757606074794; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 51064

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:34 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11647172887962840975

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:34 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11647172887962840975
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 54848, 33728, 41956, 51064

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:54:42

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 54848

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 33728

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:34 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11614904752137337627

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:34 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11614904752137337627
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 41956

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:34 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:34 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=skmveu7gjhi3keq8favlhcjuf5; expires=Thu, 11-Sep-2025 16:04:34 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=1B346F0D63E93D668AB0416B817C365D.1757606074794; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:54:34 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:54:34 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=skmveu7gjhi3keq8favlhcjuf5; expires=Thu, 11-Sep-2025 16:04:34 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=1B346F0D63E93D668AB0416B817C365D.1757606074794; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 51064

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:34 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11647172887962840975

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:34 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11647172887962840975
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 54848, 33728, 41956, 51064

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:54:43 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:54:43 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:54:43 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:54:43 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:54:43 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:54:44 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55365 (total: 1)
2025/09/11 23:54:44 server.go:164: [SOCKS5-CONN] New connection from [::1]:55365 at 2025-09-11 23:54:44
2025/09/11 23:54:44 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55365
2025/09/11 23:54:44 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55365
2025/09/11 23:54:44 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55365
2025/09/11 23:54:44 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:54:44 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:54:44 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:55365, duration: 60.9115ms
2025/09/11 23:54:44 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:55365
2025/09/11 23:54:46 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55370 (total: 2)
2025/09/11 23:54:46 server.go:164: [SOCKS5-CONN] New connection from [::1]:55370 at 2025-09-11 23:54:46
2025/09/11 23:54:46 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55370
2025/09/11 23:54:46 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55370
2025/09/11 23:54:46 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55370
2025/09/11 23:54:46 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:80 (timeout: 30s)
2025/09/11 23:54:46 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:80
2025/09/11 23:54:46 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:55370, duration: 63.7403ms
2025/09/11 23:54:46 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:55370
2025/09/11 23:54:46 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55375 (total: 3)
2025/09/11 23:54:46 server.go:164: [SOCKS5-CONN] New connection from [::1]:55375 at 2025-09-11 23:54:46
2025/09/11 23:54:46 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55375
2025/09/11 23:54:46 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55375
2025/09/11 23:54:46 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55375
2025/09/11 23:54:46 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:54:46 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:54:46 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55379 (total: 4)
2025/09/11 23:54:46 server.go:164: [SOCKS5-CONN] New connection from [::1]:55379 at 2025-09-11 23:54:46
2025/09/11 23:54:46 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55379
2025/09/11 23:54:46 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55379
2025/09/11 23:54:46 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55379
2025/09/11 23:54:46 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:54:46 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:54:46 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:55375, duration: 160.4696ms
2025/09/11 23:54:46 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:55375
2025/09/11 23:54:46 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:55379, duration: 113.9866ms
2025/09/11 23:54:46 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:55379
2025/09/11 23:54:46 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:55400 (total: 5)
2025/09/11 23:54:46 server.go:164: [SOCKS5-CONN] New connection from [::1]:55400 at 2025-09-11 23:54:46
2025/09/11 23:54:46 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:55400
2025/09/11 23:54:46 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:55400
2025/09/11 23:54:46 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:55400
2025/09/11 23:54:46 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.49.44:443 (timeout: 30s)
2025/09/11 23:54:46 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.49.44:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:34 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11614904752137337627

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:34 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11614904752137337627
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:34 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:54:34 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=skmveu7gjhi3keq8favlhcjuf5; expires=Thu, 11-Sep-2025 16:04:34 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=1B346F0D63E93D668AB0416B817C365D.1757606074794; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:54:34 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:54:34 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=skmveu7gjhi3keq8favlhcjuf5; expires=Thu, 11-Sep-2025 16:04:34 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=1B346F0D63E93D668AB0416B817C365D.1757606074794; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.49.44, 180.101.51.73
* SOCKS5 connect to 180.101.49.44:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:54:34 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11647172887962840975

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:54:34 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11647172887962840975
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:57:44

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 53048

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 52740

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:57:36 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11302722073322470599

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:57:36 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11302722073322470599
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 50648

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:57:36 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:57:36 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=02rkd9egf0sk8i0uiu2eah75q3; expires=Thu, 11-Sep-2025 16:07:36 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=6469013AC4BD9DC82D8CB17756C56541.1757606256342; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:57:36 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:57:36 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=02rkd9egf0sk8i0uiu2eah75q3; expires=Thu, 11-Sep-2025 16:07:36 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=6469013AC4BD9DC82D8CB17756C56541.1757606256342; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 22684

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:57:36 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10978179861869575119

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:57:36 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10978179861869575119
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 53048, 52740, 50648, 22684

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:57:44

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 53048

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 52740

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:57:36 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11302722073322470599

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:57:36 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11302722073322470599
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 50648

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:57:36 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:57:36 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=02rkd9egf0sk8i0uiu2eah75q3; expires=Thu, 11-Sep-2025 16:07:36 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=6469013AC4BD9DC82D8CB17756C56541.1757606256342; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:57:36 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:57:36 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=02rkd9egf0sk8i0uiu2eah75q3; expires=Thu, 11-Sep-2025 16:07:36 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=6469013AC4BD9DC82D8CB17756C56541.1757606256342; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 22684

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:57:36 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10978179861869575119

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:57:36 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10978179861869575119
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 53048, 52740, 50648, 22684

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:57:44 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:57:45 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:57:45 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:57:45 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:57:45 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:57:46 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58352 (total: 1)
2025/09/11 23:57:46 server.go:164: [SOCKS5-CONN] New connection from [::1]:58352 at 2025-09-11 23:57:46
2025/09/11 23:57:46 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58352
2025/09/11 23:57:46 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58352
2025/09/11 23:57:46 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58352
2025/09/11 23:57:46 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/11 23:57:46 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/11 23:57:46 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58352, duration: 81.7961ms
2025/09/11 23:57:46 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58352
2025/09/11 23:57:48 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58403 (total: 2)
2025/09/11 23:57:48 server.go:164: [SOCKS5-CONN] New connection from [::1]:58403 at 2025-09-11 23:57:48
2025/09/11 23:57:48 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58403
2025/09/11 23:57:48 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58403
2025/09/11 23:57:48 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58403
2025/09/11 23:57:48 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/11 23:57:48 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/11 23:57:48 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58403, duration: 71.2437ms
2025/09/11 23:57:48 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58403
2025/09/11 23:57:48 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58407 (total: 3)
2025/09/11 23:57:48 server.go:164: [SOCKS5-CONN] New connection from [::1]:58407 at 2025-09-11 23:57:48
2025/09/11 23:57:48 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58407
2025/09/11 23:57:48 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58407
2025/09/11 23:57:48 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58407
2025/09/11 23:57:48 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:57:48 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:57:48 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58411 (total: 4)
2025/09/11 23:57:48 server.go:164: [SOCKS5-CONN] New connection from [::1]:58411 at 2025-09-11 23:57:48
2025/09/11 23:57:48 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58411
2025/09/11 23:57:48 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58411
2025/09/11 23:57:48 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58411
2025/09/11 23:57:48 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:57:48 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:57:48 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58407, duration: 165.3092ms
2025/09/11 23:57:48 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58407
2025/09/11 23:57:48 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58411, duration: 138.1412ms
2025/09/11 23:57:48 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58411
2025/09/11 23:57:48 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58433 (total: 5)
2025/09/11 23:57:48 server.go:164: [SOCKS5-CONN] New connection from [::1]:58433 at 2025-09-11 23:57:48
2025/09/11 23:57:48 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58433
2025/09/11 23:57:48 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58433
2025/09/11 23:57:48 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58433
2025/09/11 23:57:48 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:443 (timeout: 30s)
2025/09/11 23:57:48 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:57:36 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11302722073322470599

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:57:36 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11302722073322470599
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:57:36 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:57:36 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=02rkd9egf0sk8i0uiu2eah75q3; expires=Thu, 11-Sep-2025 16:07:36 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=6469013AC4BD9DC82D8CB17756C56541.1757606256342; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:57:36 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:57:36 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=02rkd9egf0sk8i0uiu2eah75q3; expires=Thu, 11-Sep-2025 16:07:36 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=6469013AC4BD9DC82D8CB17756C56541.1757606256342; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1fd:0:ff:b0e1:fe69, 240e:e9:6002:1ac:0:ff:b07e:36c5
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:57:36 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10978179861869575119

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:57:36 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10978179861869575119
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:57:53

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 45096

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 43100

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:57:46 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10101052500177072831

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:57:46 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10101052500177072831
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 54800

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:57:46 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:57:46 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=bk6bmgnv4ohdl70q1d90dfskm5; expires=Thu, 11-Sep-2025 16:07:46 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=C1E0A5D45696CE9FDC011103C5A27CC7.1757606266154; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:57:46 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:57:46 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=bk6bmgnv4ohdl70q1d90dfskm5; expires=Thu, 11-Sep-2025 16:07:46 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=C1E0A5D45696CE9FDC011103C5A27CC7.1757606266154; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 52532

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:57:46 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11025839812350296262

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:57:46 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11025839812350296262
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 45096, 43100, 54800, 52532

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:57:53

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 45096

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 43100

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:57:46 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10101052500177072831

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:57:46 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10101052500177072831
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 54800

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:57:46 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:57:46 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=bk6bmgnv4ohdl70q1d90dfskm5; expires=Thu, 11-Sep-2025 16:07:46 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=C1E0A5D45696CE9FDC011103C5A27CC7.1757606266154; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:57:46 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:57:46 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=bk6bmgnv4ohdl70q1d90dfskm5; expires=Thu, 11-Sep-2025 16:07:46 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=C1E0A5D45696CE9FDC011103C5A27CC7.1757606266154; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 52532

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:57:46 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11025839812350296262

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:57:46 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11025839812350296262
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 45096, 43100, 54800, 52532

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:57:54 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:57:54 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:57:54 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:57:54 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:57:54 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:57:55 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58476 (total: 1)
2025/09/11 23:57:55 server.go:164: [SOCKS5-CONN] New connection from [::1]:58476 at 2025-09-11 23:57:55
2025/09/11 23:57:55 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58476
2025/09/11 23:57:55 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58476
2025/09/11 23:57:55 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58476
2025/09/11 23:57:55 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/11 23:57:55 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/11 23:57:55 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58476, duration: 73.5324ms
2025/09/11 23:57:55 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58476
2025/09/11 23:57:57 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58499 (total: 2)
2025/09/11 23:57:57 server.go:164: [SOCKS5-CONN] New connection from [::1]:58499 at 2025-09-11 23:57:57
2025/09/11 23:57:57 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58499
2025/09/11 23:57:57 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58499
2025/09/11 23:57:57 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58499
2025/09/11 23:57:57 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/11 23:57:57 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/11 23:57:58 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58503 (total: 3)
2025/09/11 23:57:58 server.go:164: [SOCKS5-CONN] New connection from [::1]:58503 at 2025-09-11 23:57:58
2025/09/11 23:57:58 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58503
2025/09/11 23:57:58 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58503
2025/09/11 23:57:58 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58503
2025/09/11 23:57:58 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58499, duration: 90.8587ms
2025/09/11 23:57:58 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58499
2025/09/11 23:57:58 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:57:58 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:57:58 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58507 (total: 4)
2025/09/11 23:57:58 server.go:164: [SOCKS5-CONN] New connection from [::1]:58507 at 2025-09-11 23:57:58
2025/09/11 23:57:58 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58507
2025/09/11 23:57:58 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58507
2025/09/11 23:57:58 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58507
2025/09/11 23:57:58 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:57:58 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:57:58 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58503, duration: 127.2779ms
2025/09/11 23:57:58 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58503
2025/09/11 23:57:58 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58507, duration: 90.0188ms
2025/09/11 23:57:58 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58507
2025/09/11 23:57:58 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58526 (total: 5)
2025/09/11 23:57:58 server.go:164: [SOCKS5-CONN] New connection from [::1]:58526 at 2025-09-11 23:57:58
2025/09/11 23:57:58 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58526
2025/09/11 23:57:58 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58526
2025/09/11 23:57:58 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58526
2025/09/11 23:57:58 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:443 (timeout: 30s)
2025/09/11 23:57:58 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:57:46 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10101052500177072831

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:57:46 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10101052500177072831
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:57:46 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:57:46 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=bk6bmgnv4ohdl70q1d90dfskm5; expires=Thu, 11-Sep-2025 16:07:46 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=C1E0A5D45696CE9FDC011103C5A27CC7.1757606266154; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:57:46 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:57:46 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=bk6bmgnv4ohdl70q1d90dfskm5; expires=Thu, 11-Sep-2025 16:07:46 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=C1E0A5D45696CE9FDC011103C5A27CC7.1757606266154; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:57:46 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11025839812350296262

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:57:46 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11025839812350296262
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:58:37

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 49004

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 45032

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:58:29 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_12230242264063415527

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:58:29 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_12230242264063415527
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 54632

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:58:30 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:58:30 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=srgmuuoli3326tvr4d6dkhr3q0; expires=Thu, 11-Sep-2025 16:08:30 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=963ED3BD57ABD774F748A1649E389929.1757606310135; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:58:30 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:58:30 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=srgmuuoli3326tvr4d6dkhr3q0; expires=Thu, 11-Sep-2025 16:08:30 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=963ED3BD57ABD774F748A1649E389929.1757606310135; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 51316

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:58:30 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_9549507128144884932

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:58:30 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_9549507128144884932
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 49004, 45032, 54632, 51316

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:58:37

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 49004

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 45032

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:58:29 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_12230242264063415527

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:58:29 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_12230242264063415527
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 54632

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:58:30 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:58:30 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=srgmuuoli3326tvr4d6dkhr3q0; expires=Thu, 11-Sep-2025 16:08:30 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=963ED3BD57ABD774F748A1649E389929.1757606310135; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:58:30 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:58:30 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=srgmuuoli3326tvr4d6dkhr3q0; expires=Thu, 11-Sep-2025 16:08:30 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=963ED3BD57ABD774F748A1649E389929.1757606310135; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 51316

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:58:30 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_9549507128144884932

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:58:30 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_9549507128144884932
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 49004, 45032, 54632, 51316

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:58:38 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:58:38 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:58:38 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:58:38 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:58:38 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:58:39 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58820 (total: 1)
2025/09/11 23:58:39 server.go:164: [SOCKS5-CONN] New connection from [::1]:58820 at 2025-09-11 23:58:39
2025/09/11 23:58:39 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58820
2025/09/11 23:58:39 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58820
2025/09/11 23:58:39 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58820
2025/09/11 23:58:39 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/11 23:58:39 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/11 23:58:39 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58820, duration: 60.9816ms
2025/09/11 23:58:39 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58820
2025/09/11 23:58:41 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58825 (total: 2)
2025/09/11 23:58:41 server.go:164: [SOCKS5-CONN] New connection from [::1]:58825 at 2025-09-11 23:58:41
2025/09/11 23:58:41 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58825
2025/09/11 23:58:41 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58825
2025/09/11 23:58:41 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58825
2025/09/11 23:58:41 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/11 23:58:41 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/11 23:58:41 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58825, duration: 56.4456ms
2025/09/11 23:58:41 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58825
2025/09/11 23:58:41 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58829 (total: 3)
2025/09/11 23:58:41 server.go:164: [SOCKS5-CONN] New connection from [::1]:58829 at 2025-09-11 23:58:41
2025/09/11 23:58:41 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58829
2025/09/11 23:58:41 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58829
2025/09/11 23:58:41 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58829
2025/09/11 23:58:42 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:58:42 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:58:42 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58833 (total: 4)
2025/09/11 23:58:42 server.go:164: [SOCKS5-CONN] New connection from [::1]:58833 at 2025-09-11 23:58:42
2025/09/11 23:58:42 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58833
2025/09/11 23:58:42 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58833
2025/09/11 23:58:42 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58833
2025/09/11 23:58:42 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:58:42 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:58:42 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58829, duration: 159.4272ms
2025/09/11 23:58:42 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58829
2025/09/11 23:58:42 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58833, duration: 118.2347ms
2025/09/11 23:58:42 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58833
2025/09/11 23:58:42 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58855 (total: 5)
2025/09/11 23:58:42 server.go:164: [SOCKS5-CONN] New connection from [::1]:58855 at 2025-09-11 23:58:42
2025/09/11 23:58:42 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58855
2025/09/11 23:58:42 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58855
2025/09/11 23:58:42 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58855
2025/09/11 23:58:42 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:443 (timeout: 30s)
2025/09/11 23:58:42 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:58:29 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_12230242264063415527

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:58:29 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_12230242264063415527
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:58:30 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:58:30 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=srgmuuoli3326tvr4d6dkhr3q0; expires=Thu, 11-Sep-2025 16:08:30 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=963ED3BD57ABD774F748A1649E389929.1757606310135; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:58:30 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:58:30 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=srgmuuoli3326tvr4d6dkhr3q0; expires=Thu, 11-Sep-2025 16:08:30 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=963ED3BD57ABD774F748A1649E389929.1757606310135; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:58:30 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_9549507128144884932

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:58:30 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_9549507128144884932
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:58:47

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 44864

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 41040

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:58:40 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11421165292200176779

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:58:40 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11421165292200176779
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 48224

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:58:40 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:58:40 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=s6ijm3lfjg55hbtq43e7n7a297; expires=Thu, 11-Sep-2025 16:08:40 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=6ED73FB9ABFC99545D27C1441F58BD27.1757606320273; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:58:40 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:58:40 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=s6ijm3lfjg55hbtq43e7n7a297; expires=Thu, 11-Sep-2025 16:08:40 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=6ED73FB9ABFC99545D27C1441F58BD27.1757606320273; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 47988

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:58:40 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11090904963580373805

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:58:40 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11090904963580373805
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 44864, 41040, 48224, 47988

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:58:47

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 44864

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 41040

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:58:40 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11421165292200176779

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:58:40 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11421165292200176779
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 48224

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:58:40 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:58:40 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=s6ijm3lfjg55hbtq43e7n7a297; expires=Thu, 11-Sep-2025 16:08:40 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=6ED73FB9ABFC99545D27C1441F58BD27.1757606320273; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:58:40 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:58:40 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=s6ijm3lfjg55hbtq43e7n7a297; expires=Thu, 11-Sep-2025 16:08:40 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=6ED73FB9ABFC99545D27C1441F58BD27.1757606320273; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 47988

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:58:40 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11090904963580373805

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:58:40 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11090904963580373805
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 44864, 41040, 48224, 47988

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:58:48 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:58:48 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:58:48 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:58:48 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:58:48 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:58:49 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58944 (total: 1)
2025/09/11 23:58:49 server.go:164: [SOCKS5-CONN] New connection from [::1]:58944 at 2025-09-11 23:58:49
2025/09/11 23:58:49 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58944
2025/09/11 23:58:49 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58944
2025/09/11 23:58:49 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58944
2025/09/11 23:58:49 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/11 23:58:49 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/11 23:58:49 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58944, duration: 60.9155ms
2025/09/11 23:58:49 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58944
2025/09/11 23:58:51 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58948 (total: 2)
2025/09/11 23:58:51 server.go:164: [SOCKS5-CONN] New connection from [::1]:58948 at 2025-09-11 23:58:51
2025/09/11 23:58:51 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58948
2025/09/11 23:58:51 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58948
2025/09/11 23:58:51 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58948
2025/09/11 23:58:52 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/11 23:58:52 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/11 23:58:52 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58948, duration: 100.6948ms
2025/09/11 23:58:52 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58948
2025/09/11 23:58:52 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58952 (total: 3)
2025/09/11 23:58:52 server.go:164: [SOCKS5-CONN] New connection from [::1]:58952 at 2025-09-11 23:58:52
2025/09/11 23:58:52 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58952
2025/09/11 23:58:52 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58952
2025/09/11 23:58:52 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58952
2025/09/11 23:58:52 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:58:52 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:58:52 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58962 (total: 4)
2025/09/11 23:58:52 server.go:164: [SOCKS5-CONN] New connection from [::1]:58962 at 2025-09-11 23:58:52
2025/09/11 23:58:52 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58962
2025/09/11 23:58:52 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58962
2025/09/11 23:58:52 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58962
2025/09/11 23:58:52 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:58:52 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:58:52 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58952, duration: 205.3346ms
2025/09/11 23:58:52 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58952
2025/09/11 23:58:52 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:58962, duration: 164.0546ms
2025/09/11 23:58:52 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:58962
2025/09/11 23:58:52 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:58980 (total: 5)
2025/09/11 23:58:52 server.go:164: [SOCKS5-CONN] New connection from [::1]:58980 at 2025-09-11 23:58:52
2025/09/11 23:58:52 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:58980
2025/09/11 23:58:52 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:58980
2025/09/11 23:58:52 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:58980
2025/09/11 23:58:52 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:443 (timeout: 30s)
2025/09/11 23:58:52 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:58:40 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11421165292200176779

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:58:40 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11421165292200176779
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:58:40 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:58:40 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=s6ijm3lfjg55hbtq43e7n7a297; expires=Thu, 11-Sep-2025 16:08:40 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=6ED73FB9ABFC99545D27C1441F58BD27.1757606320273; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:58:40 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:58:40 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=s6ijm3lfjg55hbtq43e7n7a297; expires=Thu, 11-Sep-2025 16:08:40 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=6ED73FB9ABFC99545D27C1441F58BD27.1757606320273; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:58:40 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11090904963580373805

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:58:40 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11090904963580373805
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:59:39

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 54956

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 53076

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:59:31 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11723624779529810877

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:59:31 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11723624779529810877
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 28324

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:59:31 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:59:31 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=t6dqgoli3k6eg9n9h0ss60su21; expires=Thu, 11-Sep-2025 16:09:31 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=69C9BBE503B28CC05D3A519BFC71856B.1757606371796; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:59:31 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:59:31 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=t6dqgoli3k6eg9n9h0ss60su21; expires=Thu, 11-Sep-2025 16:09:31 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=69C9BBE503B28CC05D3A519BFC71856B.1757606371796; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 13676

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:59:31 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11182934838237677312

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:59:31 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11182934838237677312
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 54956, 53076, 28324, 13676

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:59:39

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 54956

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 53076

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:59:31 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11723624779529810877

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:59:31 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11723624779529810877
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 28324

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:59:31 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:59:31 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=t6dqgoli3k6eg9n9h0ss60su21; expires=Thu, 11-Sep-2025 16:09:31 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=69C9BBE503B28CC05D3A519BFC71856B.1757606371796; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:59:31 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:59:31 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=t6dqgoli3k6eg9n9h0ss60su21; expires=Thu, 11-Sep-2025 16:09:31 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=69C9BBE503B28CC05D3A519BFC71856B.1757606371796; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 13676

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:59:31 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11182934838237677312

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:59:31 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11182934838237677312
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 54956, 53076, 28324, 13676

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/11 23:59:40 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/11 23:59:40 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/11 23:59:40 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/11 23:59:40 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/11 23:59:40 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/11 23:59:41 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59201 (total: 1)
2025/09/11 23:59:41 server.go:164: [SOCKS5-CONN] New connection from [::1]:59201 at 2025-09-11 23:59:41
2025/09/11 23:59:41 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59201
2025/09/11 23:59:41 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59201
2025/09/11 23:59:41 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59201
2025/09/11 23:59:41 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/11 23:59:41 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/11 23:59:41 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:59201, duration: 59.2651ms
2025/09/11 23:59:41 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:59201
2025/09/11 23:59:43 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59227 (total: 2)
2025/09/11 23:59:43 server.go:164: [SOCKS5-CONN] New connection from [::1]:59227 at 2025-09-11 23:59:43
2025/09/11 23:59:43 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59227
2025/09/11 23:59:43 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59227
2025/09/11 23:59:43 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59227
2025/09/11 23:59:43 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/11 23:59:43 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/11 23:59:43 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:59227, duration: 56.2863ms
2025/09/11 23:59:43 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:59227
2025/09/11 23:59:43 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59231 (total: 3)
2025/09/11 23:59:43 server.go:164: [SOCKS5-CONN] New connection from [::1]:59231 at 2025-09-11 23:59:43
2025/09/11 23:59:43 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59231
2025/09/11 23:59:43 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59231
2025/09/11 23:59:43 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59231
2025/09/11 23:59:43 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/11 23:59:43 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/11 23:59:43 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59235 (total: 4)
2025/09/11 23:59:43 server.go:164: [SOCKS5-CONN] New connection from [::1]:59235 at 2025-09-11 23:59:43
2025/09/11 23:59:43 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59235
2025/09/11 23:59:43 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59235
2025/09/11 23:59:43 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59235
2025/09/11 23:59:43 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/11 23:59:43 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/11 23:59:43 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:59231, duration: 121.6777ms
2025/09/11 23:59:43 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:59231
2025/09/11 23:59:43 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:59235, duration: 95.7476ms
2025/09/11 23:59:43 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:59235
2025/09/11 23:59:43 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59254 (total: 5)
2025/09/11 23:59:43 server.go:164: [SOCKS5-CONN] New connection from [::1]:59254 at 2025-09-11 23:59:43
2025/09/11 23:59:43 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59254
2025/09/11 23:59:43 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59254
2025/09/11 23:59:43 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59254
2025/09/11 23:59:43 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:443 (timeout: 30s)
2025/09/11 23:59:43 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:59:31 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11723624779529810877

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:59:31 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11723624779529810877
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:59:31 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:59:31 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=t6dqgoli3k6eg9n9h0ss60su21; expires=Thu, 11-Sep-2025 16:09:31 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=69C9BBE503B28CC05D3A519BFC71856B.1757606371796; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:59:31 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:59:31 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=t6dqgoli3k6eg9n9h0ss60su21; expires=Thu, 11-Sep-2025 16:09:31 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=69C9BBE503B28CC05D3A519BFC71856B.1757606371796; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:59:31 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11182934838237677312

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:59:31 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11182934838237677312
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-11 23:59:49

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 46028

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 30456

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:59:41 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11443993503440557471

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:59:41 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11443993503440557471
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 54512

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 15:59:41 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 15:59:41 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=hu0lv79nveuajfg5kun6er8ns3; expires=Thu, 11-Sep-2025 16:09:41 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=163934F7EBB27C474541A1B7172140D7.1757606381897; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 15:59:41 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 15:59:41 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=hu0lv79nveuajfg5kun6er8ns3; expires=Thu, 11-Sep-2025 16:09:41 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=163934F7EBB27C474541A1B7172140D7.1757606381897; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 47596

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 15:59:42 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_8203549851612488058

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 15:59:42 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_8203549851612488058
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 46028, 30456, 54512, 47596

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-12 00:00:21

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 9932

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 30324

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 16:00:12 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11690958409319105085

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 16:00:12 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11690958409319105085
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 46364

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 16:00:13 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 16:00:13 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=qkcqgcvhgtlk697c31shd4uvb0; expires=Thu, 11-Sep-2025 16:10:13 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=2C8606A116677C69A332B10827598B29.1757606413144; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 16:00:13 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 16:00:13 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=qkcqgcvhgtlk697c31shd4uvb0; expires=Thu, 11-Sep-2025 16:10:13 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=2C8606A116677C69A332B10827598B29.1757606413144; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 44780

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 16:00:13 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10915694182097665616

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 16:00:13 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10915694182097665616
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 9932, 30324, 46364, 44780

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-12 00:00:21

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 9932

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 30324

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 16:00:12 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11690958409319105085

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 16:00:12 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11690958409319105085
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 46364

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 16:00:13 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 16:00:13 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=qkcqgcvhgtlk697c31shd4uvb0; expires=Thu, 11-Sep-2025 16:10:13 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=2C8606A116677C69A332B10827598B29.1757606413144; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 16:00:13 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 16:00:13 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=qkcqgcvhgtlk697c31shd4uvb0; expires=Thu, 11-Sep-2025 16:10:13 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=2C8606A116677C69A332B10827598B29.1757606413144; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 44780

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 16:00:13 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10915694182097665616

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 16:00:13 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10915694182097665616
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 9932, 30324, 46364, 44780

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/12 00:00:21 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/12 00:00:21 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/12 00:00:21 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/12 00:00:21 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/12 00:00:21 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/12 00:00:22 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59617 (total: 1)
2025/09/12 00:00:22 server.go:164: [SOCKS5-CONN] New connection from [::1]:59617 at 2025-09-12 00:00:22
2025/09/12 00:00:22 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59617
2025/09/12 00:00:22 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59617
2025/09/12 00:00:22 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59617
2025/09/12 00:00:22 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/12 00:00:22 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/12 00:00:22 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:59617, duration: 64.1801ms
2025/09/12 00:00:22 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:59617
2025/09/12 00:00:24 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59621 (total: 2)
2025/09/12 00:00:24 server.go:164: [SOCKS5-CONN] New connection from [::1]:59621 at 2025-09-12 00:00:24
2025/09/12 00:00:24 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59621
2025/09/12 00:00:24 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59621
2025/09/12 00:00:24 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59621
2025/09/12 00:00:24 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/12 00:00:24 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/12 00:00:24 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:59621, duration: 51.6794ms
2025/09/12 00:00:24 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:59621
2025/09/12 00:00:25 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59625 (total: 3)
2025/09/12 00:00:25 server.go:164: [SOCKS5-CONN] New connection from [::1]:59625 at 2025-09-12 00:00:25
2025/09/12 00:00:25 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59625
2025/09/12 00:00:25 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59625
2025/09/12 00:00:25 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59625
2025/09/12 00:00:25 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/12 00:00:25 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/12 00:00:25 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59629 (total: 4)
2025/09/12 00:00:25 server.go:164: [SOCKS5-CONN] New connection from [::1]:59629 at 2025-09-12 00:00:25
2025/09/12 00:00:25 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59629
2025/09/12 00:00:25 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59629
2025/09/12 00:00:25 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59629
2025/09/12 00:00:25 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/12 00:00:25 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/12 00:00:25 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:59625, duration: 134.4843ms
2025/09/12 00:00:25 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:59625
2025/09/12 00:00:25 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:59629, duration: 105.4334ms
2025/09/12 00:00:25 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:59629
2025/09/12 00:00:25 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59651 (total: 5)
2025/09/12 00:00:25 server.go:164: [SOCKS5-CONN] New connection from [::1]:59651 at 2025-09-12 00:00:25
2025/09/12 00:00:25 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59651
2025/09/12 00:00:25 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59651
2025/09/12 00:00:25 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59651
2025/09/12 00:00:25 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:443 (timeout: 30s)
2025/09/12 00:00:25 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 16:00:12 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11690958409319105085

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 16:00:12 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11690958409319105085
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 16:00:13 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 16:00:13 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=qkcqgcvhgtlk697c31shd4uvb0; expires=Thu, 11-Sep-2025 16:10:13 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=2C8606A116677C69A332B10827598B29.1757606413144; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 16:00:13 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 16:00:13 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=qkcqgcvhgtlk697c31shd4uvb0; expires=Thu, 11-Sep-2025 16:10:13 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=2C8606A116677C69A332B10827598B29.1757606413144; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 16:00:13 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_10915694182097665616

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 16:00:13 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_10915694182097665616
```

âœ… ç«¯å£1080å·²æˆåŠŸé‡Šæ”¾

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-12 00:00:30

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 28780

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 54980

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 16:00:22 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11630685887577024813

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 16:00:22 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11630685887577024813
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 53544

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 16:00:22 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 16:00:22 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=o580ij2qgtoaejv1ns05uvi0m3; expires=Thu, 11-Sep-2025 16:10:22 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=33A663A77E4842C7784211F32C44E0E2.1757606422909; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 16:00:22 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 16:00:22 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=o580ij2qgtoaejv1ns05uvi0m3; expires=Thu, 11-Sep-2025 16:10:22 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=33A663A77E4842C7784211F32C44E0E2.1757606422909; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 25628

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 16:00:23 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11228364657041074815

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 16:00:23 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11228364657041074815
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹PID: 28780, 54980, 53544, 25628

### 

# HTTP ä»£ç†æœåŠ¡å™¨æµ‹è¯•è®°å½•

## æµ‹è¯•æ—¶é—´

2025-09-12 00:00:30

## 1. å¯åŠ¨ä»£ç†æœåŠ¡å™¨

æ‰§è¡Œå‘½ä»¤: `go run -v ./cmd/main.go`

ç¼–è¯‘ä»£ç†æœåŠ¡å™¨... âœ… ä»£ç†æœåŠ¡å™¨ç¼–è¯‘æˆåŠŸ

ðŸ“‹ ä»£ç†æœåŠ¡å™¨è¿›ç¨‹ PID: 28780

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨... âœ… ä»£ç†æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ

## 2. æµ‹è¯• HTTP ä»£ç†åŠŸèƒ½

### æµ‹è¯• 1: åŸºæœ¬ HTTP ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 1 è¿›ç¨‹ PID: 54980

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 16:00:22 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11630685887577024813

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 16:00:22 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11630685887577024813
```

### æµ‹è¯• 2: HTTP ä»£ç†www.so.com

æ‰§è¡Œå‘½ä»¤: `curl -v -I http://www.so.com -x socks5://localhost:1080  -L`

ðŸ“‹ Curl æµ‹è¯• 2 è¿›ç¨‹ PID: 53544

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 16:00:22 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 16:00:22 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=o580ij2qgtoaejv1ns05uvi0m3; expires=Thu, 11-Sep-2025 16:10:22 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=33A663A77E4842C7784211F32C44E0E2.1757606422909; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 16:00:22 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/

HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 16:00:22 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=o580ij2qgtoaejv1ns05uvi0m3; expires=Thu, 11-Sep-2025 16:10:22 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=33A663A77E4842C7784211F32C44E0E2.1757606422909; Max-Age=63072000; Domain=so.com; Path=/
```

### æµ‹è¯• 3: HTTPS ä»£ç†

æ‰§è¡Œå‘½ä»¤: `curl -v -I https://www.baidu.com -x socks5://localhost:1080`

ðŸ“‹ Curl æµ‹è¯• 3 è¿›ç¨‹ PID: 25628

âœ… æµ‹è¯•æˆåŠŸ

è¾“å‡ºç»“æžœ:

```
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 16:00:23 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11228364657041074815

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 16:00:23 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11228364657041074815
```

### ðŸ“‹ æ‰€æœ‰è¿›ç¨‹ PID è®°å½•

æ‰€æœ‰è¿›ç¨‹ PID: 28780, 54980, 53544, 25628

## 3. å…³é—­ä»£ç†æœåŠ¡å™¨

âœ… æ‰€æœ‰ curl æµ‹è¯•æˆåŠŸï¼Œæ­£åœ¨å…³é—­ä»£ç†æœåŠ¡å™¨è¿›ç¨‹...

ðŸ›‘ æ­£åœ¨ç»ˆæ­¢ä»£ç†æœåŠ¡å™¨è¿›ç¨‹... âœ… ä»£ç†æœåŠ¡å™¨è¿›ç¨‹å·²ç»ˆæ­¢

ðŸ§¹ æ­£åœ¨æ¸…ç†æ‰€æœ‰å­è¿›ç¨‹...

âœ… æ‰€æœ‰å­è¿›ç¨‹å·²æ¸…ç†å®Œæˆ

ðŸ§¹ å·²æ¸…ç†ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶

### ä»£ç†æœåŠ¡å™¨æ—¥å¿—è¾“å‡º

```
2025/09/12 00:00:31 main.go:71: å¯åŠ¨socks5æœåŠ¡ç«¯ï¼Œç›‘å¬åœ°å€: :1080
2025/09/12 00:00:31 server.go:108: [SOCKS5-SERVER] Server started successfully, listening on :1080
2025/09/12 00:00:31 server.go:109: [SOCKS5-SERVER] Authentication enabled: false (0 users configured)
2025/09/12 00:00:31 server.go:111: [SOCKS5-SERVER] Upstream selector enabled: false
2025/09/12 00:00:31 main.go:129: socks5æœåŠ¡ç«¯å·²å¯åŠ¨ï¼ŒæŒ‰Ctrl+Cåœæ­¢
2025/09/12 00:00:32 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59691 (total: 1)
2025/09/12 00:00:32 server.go:164: [SOCKS5-CONN] New connection from [::1]:59691 at 2025-09-12 00:00:32
2025/09/12 00:00:32 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59691
2025/09/12 00:00:32 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59691
2025/09/12 00:00:32 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59691
2025/09/12 00:00:32 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/12 00:00:32 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/12 00:00:32 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:59691, duration: 72.701ms
2025/09/12 00:00:32 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:59691
2025/09/12 00:00:34 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59732 (total: 2)
2025/09/12 00:00:34 server.go:164: [SOCKS5-CONN] New connection from [::1]:59732 at 2025-09-12 00:00:34
2025/09/12 00:00:34 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59732
2025/09/12 00:00:34 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59732
2025/09/12 00:00:34 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59732
2025/09/12 00:00:34 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:80 (timeout: 30s)
2025/09/12 00:00:34 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:80
2025/09/12 00:00:34 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:59732, duration: 48.5229ms
2025/09/12 00:00:34 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:59732
2025/09/12 00:00:34 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59736 (total: 3)
2025/09/12 00:00:34 server.go:164: [SOCKS5-CONN] New connection from [::1]:59736 at 2025-09-12 00:00:34
2025/09/12 00:00:34 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59736
2025/09/12 00:00:34 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59736
2025/09/12 00:00:34 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59736
2025/09/12 00:00:34 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:80 (timeout: 30s)
2025/09/12 00:00:34 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:80
2025/09/12 00:00:34 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59740 (total: 4)
2025/09/12 00:00:34 server.go:164: [SOCKS5-CONN] New connection from [::1]:59740 at 2025-09-12 00:00:34
2025/09/12 00:00:34 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59740
2025/09/12 00:00:34 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59740
2025/09/12 00:00:34 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59740
2025/09/12 00:00:34 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.163.237.15:443 (timeout: 30s)
2025/09/12 00:00:34 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.163.237.15:443
2025/09/12 00:00:34 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:59736, duration: 117.7033ms
2025/09/12 00:00:34 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:59736
2025/09/12 00:00:34 server.go:191: [SOCKS5-CONN] Connection completed successfully for client [::1]:59740, duration: 83.2498ms
2025/09/12 00:00:34 server.go:159: [SOCKS5-CONN] Connection closed for client [::1]:59740
2025/09/12 00:00:34 server.go:143: [SOCKS5-SERVER] New connection accepted from [::1]:59759 (total: 5)
2025/09/12 00:00:34 server.go:164: [SOCKS5-CONN] New connection from [::1]:59759 at 2025-09-12 00:00:34
2025/09/12 00:00:34 server.go:170: [SOCKS5-CONN] Connection timeout set to 30s for client [::1]:59759
2025/09/12 00:00:34 server.go:177: [SOCKS5-CONN] No authentication required for client [::1]:59759
2025/09/12 00:00:34 server.go:182: [SOCKS5-CONN] Connection details - Local: [::1]:1080, Remote: [::1]:59759
2025/09/12 00:00:34 server.go:299: [SOCKS5-UPSTREAM] Using direct connection for target 180.101.51.73:443 (timeout: 30s)
2025/09/12 00:00:34 server.go:304: [SOCKS5-UPSTREAM] Direct connection established for target 180.101.51.73:443
```

### æ‰€æœ‰å­è¿›ç¨‹æ—¥å¿—è¾“å‡º

```
### Curlæµ‹è¯•1è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:80 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 16:00:22 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11630685887577024813

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 16:00:22 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11630685887577024813
### Curlæµ‹è¯•2è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* Host www.so.com:80 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:80 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 302 Moved Temporarily
< Server: openresty
< Date: Thu, 11 Sep 2025 16:00:22 GMT
< Content-Type: text/html
< Connection: keep-alive
< Location: https://www.so.com/
< Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
* Ignoring the response-body
< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
* Clear auth, redirects to port from 80 to 443
* Issue another request to this URL: 'https://www.so.com/'
* Hostname localhost was found in DNS cache
*   Trying [::1]:1080...
* Host www.so.com:443 was resolved.
* IPv6: (none)
* IPv4: 180.163.237.15
* SOCKS5 connect to 180.163.237.15:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [305 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [93 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [5077 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server did not agree on a protocol. Uses default.
* Server certificate:
*  subject: CN=*.so.com
*  start date: Aug 28 00:00:00 2025 GMT
*  expire date: Sep 28 23:59:59 2026 GMT
*  subjectAltName: host "www.so.com" matched cert's "*.so.com"
*  issuer: C=CN; O=WoTrus CA Limited; CN=WoTrus DV Server CA  [Run by the Issuer]
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha384WithRSAEncryption
*   Certificate level 2: Public key type ? (4096/128 Bits/secBits), signed using sha384WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.so.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Server: openresty
< Date: Thu, 11 Sep 2025 16:00:22 GMT
< Content-Type: text/html; charset=UTF-8
< Connection: keep-alive
< Vary: Accept-Encoding
< Set-Cookie: _S=o580ij2qgtoaejv1ns05uvi0m3; expires=Thu, 11-Sep-2025 16:10:22 GMT; Max-Age=600; path=/
< Expires: Thu, 19 Nov 1981 08:52:00 GMT
< Cache-Control: no-store, no-cache, must-revalidate
< Pragma: no-cache
< php-waf-rep: -
< Set-Cookie: QiHooGUID=33A663A77E4842C7784211F32C44E0E2.1757606422909; Max-Age=63072000; Domain=so.com; Path=/

< 


  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #1 to host localhost left intact
HTTP/1.1 302 Moved Temporarily
Server: openresty
Date: Thu, 11 Sep 2025 16:00:22 GMT
Content-Type: text/html
Connection: keep-alive
Location: https://www.so.com/
Set-Cookie: QiHooGUID=; Max-Age=63072000; Domain=so.com; Path=/
HTTP/1.1 200 OK
Server: openresty
Date: Thu, 11 Sep 2025 16:00:22 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Vary: Accept-Encoding
Set-Cookie: _S=o580ij2qgtoaejv1ns05uvi0m3; expires=Thu, 11-Sep-2025 16:10:22 GMT; Max-Age=600; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
php-waf-rep: -
Set-Cookie: QiHooGUID=33A663A77E4842C7784211F32C44E0E2.1757606422909; Max-Age=63072000; Domain=so.com; Path=/
### Curlæµ‹è¯•3è¾“å‡º ###
Note: Using embedded CA bundle, for proxies (233263 bytes)
* Host localhost:1080 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed

  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying [::1]:1080...
* Host www.baidu.com:443 was resolved.
* IPv6: 240e:e9:6002:1ac:0:ff:b07e:36c5, 240e:e9:6002:1fd:0:ff:b0e1:fe69
* IPv4: 180.101.51.73, 180.101.49.44
* SOCKS5 connect to 180.101.51.73:443 (locally resolved)
* SOCKS5 request granted.
* Connected to localhost () port 1080
* using HTTP/1.x
* ALPN: curl offers h2,http/1.1
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
} [308 bytes data]
*  CAfile: D:\è¿…é›·ä¸‹è½½\curl-8.12.1_4-win64-mingw\bin\curl-ca-bundle.crt
*  CApath: none
* TLSv1.3 (IN), TLS handshake, Server hello (2):
{ [102 bytes data]
* TLSv1.2 (IN), TLS handshake, Certificate (11):
{ [4771 bytes data]
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
{ [333 bytes data]
* TLSv1.2 (IN), TLS handshake, Server finished (14):
{ [4 bytes data]
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
} [70 bytes data]
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
} [1 bytes data]
* TLSv1.2 (OUT), TLS handshake, Finished (20):
} [16 bytes data]
* TLSv1.2 (IN), TLS change cipher, Change cipher spec (1):
{ [1 bytes data]
* TLSv1.2 (IN), TLS handshake, Finished (20):
{ [16 bytes data]
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256 / [blank] / UNDEF
* ALPN: server accepted http/1.1
* Server certificate:
*  subject: C=CN; ST=beijing; L=beijing; O=Beijing Baidu Netcom Science Technology Co., Ltd; CN=baidu.com
*  start date: Jul  9 07:01:02 2025 GMT
*  expire date: Aug 10 07:01:01 2026 GMT
*  subjectAltName: host "www.baidu.com" matched cert's "*.baidu.com"
*  issuer: C=BE; O=GlobalSign nv-sa; CN=GlobalSign RSA OV SSL CA 2018
*  SSL certificate verify ok.
*   Certificate level 0: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 1: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
*   Certificate level 2: Public key type ? (2048/112 Bits/secBits), signed using sha256WithRSAEncryption
* Connected to localhost (::1) port 1080
* using HTTP/1.x
> HEAD / HTTP/1.1
> Host: www.baidu.com
> User-Agent: curl/8.12.1
> Accept: */*

> 

* Request completely sent off
< HTTP/1.1 200 OK
< Accept-Ranges: bytes
< Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
< Connection: keep-alive
< Content-Length: 277
< Content-Type: text/html
< Date: Thu, 11 Sep 2025 16:00:23 GMT
< Etag: "575e1f60-115"
< Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
< Pragma: no-cache
< Server: bfe/1.0.8.18
< Tr_id: bfe_11228364657041074815

< 


  0   277    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
HTTP/1.1 200 OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: 277
Content-Type: text/html
Date: Thu, 11 Sep 2025 16:00:23 GMT
Etag: "575e1f60-115"
Last-Modified: Mon, 13 Jun 2016 02:50:08 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
Tr_id: bfe_11228364657041074815
```

âœ… ç«¯å£ 1080 å·²æˆåŠŸé‡Šæ”¾
